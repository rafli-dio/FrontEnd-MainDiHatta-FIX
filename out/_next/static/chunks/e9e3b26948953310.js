(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3116,a=>{"use strict";let e=(0,a.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>e],3116)},46897,a=>{"use strict";let e=(0,a.i(75254).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>e],46897)},63209,a=>{"use strict";let e=(0,a.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>e],63209)},12426,a=>{"use strict";let e=(0,a.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>e],12426)},88699,a=>{"use strict";let e=(0,a.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);a.s(["Pencil",()=>e],88699)},19454,a=>{"use strict";var e=a.i(43476),s=a.i(7233),t=a.i(19455),l=a.i(71645),r=a.i(63816),i=a.i(46696),n=a.i(35975),c=a.i(57688),d=a.i(88699),o=a.i(27612),m=a.i(46897),p=a.i(3116),u=a.i(63209),g=a.i(15288),h=a.i(87486);function x({loading:a,lapangans:s,onEdit:l,onDelete:r}){return a?(0,e.jsx)("div",{className:"text-center py-10 text-gray-500",children:"Memuat data lapangan..."}):0===s.length?(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-gray-500 border-2 border-dashed border-gray-200 rounded-xl",children:[(0,e.jsx)(u.AlertCircle,{className:"w-10 h-10 mb-2 text-gray-400"}),(0,e.jsx)("p",{children:"Belum ada data lapangan."})]}):(0,e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(a=>{let s;return(0,e.jsxs)(g.Card,{className:"overflow-hidden group hover:shadow-lg transition-all duration-300 border-gray-200",children:[(0,e.jsxs)("div",{className:"relative h-48 w-full bg-gray-100",children:[a.foto_url?(0,e.jsx)(c.default,{src:a.foto_url,alt:a.nama_lapangan,fill:!0,className:"object-cover group-hover:scale-105 transition-transform duration-500",unoptimized:!0,onError:a=>a.target.style.display="none"}):(0,e.jsx)("div",{className:"flex items-center justify-center h-full text-gray-400",children:"No Image"}),(0,e.jsx)("div",{className:"absolute top-2 right-2",children:a.status_aktif?(0,e.jsx)(h.Badge,{className:"bg-green-500 hover:bg-green-600 shadow-sm",children:"Aktif"}):(0,e.jsx)(h.Badge,{variant:"destructive",className:"shadow-sm",children:"Non-Aktif"})})]}),(0,e.jsxs)(g.CardContent,{className:"p-5 space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("h3",{className:"font-bold text-xl text-gray-900 flex items-center gap-2",children:[(0,e.jsx)(m.MapPin,{className:"w-5 h-5 text-[#D93F21]"})," ",a.nama_lapangan]}),(0,e.jsx)("p",{className:"text-sm text-gray-500 line-clamp-2 mt-1 min-h-[40px]",children:a.deskripsi||"Tidak ada deskripsi."})]}),(0,e.jsxs)("div",{className:"flex justify-between items-center text-sm border-t pt-4 border-gray-100",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 text-gray-600 bg-gray-50 px-2 py-1 rounded-md",children:[(0,e.jsx)(p.Clock,{className:"w-4 h-4"}),(0,e.jsxs)("span",{children:[a.jam_buka.substring(0,5)," - ",a.jam_tutup.substring(0,5)]})]}),(0,e.jsxs)("div",{className:"font-bold text-[#D93F21] text-lg",children:[(s=a.harga_per_jam,new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(Number(s)))," ",(0,e.jsx)("span",{className:"text-xs text-gray-400 font-normal",children:"/jam"})]})]}),(0,e.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,e.jsxs)(t.Button,{variant:"outline",className:"flex-1 border-gray-200 hover:border-blue-300 hover:text-blue-600 hover:bg-blue-50",onClick:()=>l(a),children:[(0,e.jsx)(d.Pencil,{className:"w-4 h-4 mr-2"})," Edit"]}),(0,e.jsxs)(t.Button,{variant:"outline",className:"flex-1 border-gray-200 hover:border-red-300 hover:text-red-600 hover:bg-red-50",onClick:()=>r(a.id),children:[(0,e.jsx)(o.Trash2,{className:"w-4 h-4 mr-2"})," Hapus"]})]})]})]},a.id)})})}var j=a.i(31278),f=a.i(12426),y=a.i(55764),b=a.i(10204),k=a.i(24687),v=a.i(99375),N=a.i(76639);function _({isOpen:a,onOpenChange:s,onSubmit:r,initialData:i}){let[n,c]=(0,l.useState)(!1),[d,o]=(0,l.useState)({nama_lapangan:"",deskripsi:"",harga_per_jam:"",jam_buka:"08:00:00",jam_tutup:"22:00:00",status_aktif:!0,foto:null});(0,l.useEffect)(()=>{a&&i?o({nama_lapangan:i.nama_lapangan,deskripsi:i.deskripsi||"",harga_per_jam:i.harga_per_jam.toString(),jam_buka:i.jam_buka,jam_tutup:i.jam_tutup,status_aktif:!!i.status_aktif,foto:null}):a&&!i&&o({nama_lapangan:"",deskripsi:"",harga_per_jam:"",jam_buka:"08:00:00",jam_tutup:"22:00:00",status_aktif:!0,foto:null})},[a,i]);let m=async a=>{a.preventDefault(),c(!0),await r(d,!!i),c(!1)};return(0,e.jsx)(N.Dialog,{open:a,onOpenChange:s,children:(0,e.jsxs)(N.DialogContent,{className:"sm:max-w-[500px]",children:[(0,e.jsxs)(N.DialogHeader,{children:[(0,e.jsx)(N.DialogTitle,{children:i?"Edit Lapangan":"Tambah Lapangan Baru"}),(0,e.jsx)(N.DialogDescription,{children:"Informasi ini akan tampil di halaman depan pelanggan."})]}),(0,e.jsxs)("form",{onSubmit:m,className:"space-y-4 mt-2",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)(b.Label,{children:["Nama Lapangan ",(0,e.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,e.jsx)(y.Input,{value:d.nama_lapangan,onChange:a=>o({...d,nama_lapangan:a.target.value}),required:!0,placeholder:"Cth: Lapangan A (Indoor)"})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)(b.Label,{children:["Harga per Jam (Rp) ",(0,e.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsx)(f.DollarSign,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,e.jsx)(y.Input,{type:"number",className:"pl-9",value:d.harga_per_jam,onChange:a=>o({...d,harga_per_jam:a.target.value}),required:!0})]})]}),(0,e.jsx)("div",{className:"space-y-2 pt-8",children:(0,e.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,e.jsx)(v.Switch,{id:"status",checked:d.status_aktif,onCheckedChange:a=>o({...d,status_aktif:a})}),(0,e.jsx)(b.Label,{htmlFor:"status",className:"cursor-pointer",children:d.status_aktif?"Status Aktif":"Sedang Tutup"})]})})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(b.Label,{children:"Jam Buka"}),(0,e.jsx)(y.Input,{type:"time",step:"1",value:d.jam_buka,onChange:a=>o({...d,jam_buka:a.target.value}),required:!0})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(b.Label,{children:"Jam Tutup"}),(0,e.jsx)(y.Input,{type:"time",step:"1",value:d.jam_tutup,onChange:a=>o({...d,jam_tutup:a.target.value}),required:!0})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(b.Label,{children:"Deskripsi"}),(0,e.jsx)(k.Textarea,{value:d.deskripsi,onChange:a=>o({...d,deskripsi:a.target.value}),placeholder:"Fasilitas: Lantai kayu, AC, Tribun..."})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(b.Label,{children:"Foto Lapangan"}),(0,e.jsx)(y.Input,{type:"file",accept:"image/*",className:"cursor-pointer",onChange:a=>{a.target.files?.[0]&&o({...d,foto:a.target.files[0]})}})]}),(0,e.jsxs)(N.DialogFooter,{className:"pt-4",children:[(0,e.jsx)(t.Button,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Batal"}),(0,e.jsx)(t.Button,{type:"submit",disabled:n,className:"bg-[#D93F21] hover:bg-[#b9351b]",children:n?(0,e.jsx)(j.Loader2,{className:"h-4 w-4 animate-spin mr-2"}):"Simpan"})]})]})]})})}function w(){let{lapangans:a,loading:c,isDialogOpen:d,setIsDialogOpen:o,editData:m,handleCreate:p,handleEdit:u,handleDelete:g,handleSubmit:h}=function(){let[a,e]=(0,l.useState)([]),[s,t]=(0,l.useState)(!0),[c,d]=(0,l.useState)(!1),[o,m]=(0,l.useState)(null),p=async()=>{t(!0);try{let a=await r.default.get("/api/lapangans");e(a.data?.data||a.data)}catch(a){console.error(a),i.toast.error("Gagal memuat data lapangan.")}finally{t(!1)}};(0,l.useEffect)(()=>{p()},[]);let u=async(a,e)=>{try{if(e&&o){if(await r.default.put(`/api/lapangans/${o.id}`,a),a.foto){let e=new FormData;e.append("foto",a.foto),await r.default.post(`/api/lapangans/${o.id}/foto`,e)}i.toast.success("Lapangan diperbarui!")}else{let e=new FormData;Object.keys(a).forEach(s=>{"status_aktif"===s?e.append(s,a[s]?"1":"0"):null!==a[s]&&void 0!==a[s]&&e.append(s,a[s])}),await r.default.post("/api/lapangans",e),i.toast.success("Lapangan ditambahkan!")}d(!1),p()}catch(a){console.error(a),i.toast.error(a.response?.data?.message||"Gagal menyimpan.")}};return{lapangans:a,loading:s,isDialogOpen:c,setIsDialogOpen:d,editData:o,handleCreate:()=>{m(null),d(!0)},handleEdit:a=>{m(a),d(!0)},handleDelete:async a=>{if((await n.sweetAlert.confirmDelete("Hapus Lapangan?","Apakah Anda yakin ingin menghapus lapangan ini? Data booking terkait mungkin akan error.")).isConfirmed)try{await r.default.delete(`/api/lapangans/${a}`),i.toast.success("Lapangan berhasil dihapus."),p()}catch(a){i.toast.error(a.response?.data?.message||"Gagal menghapus.")}},handleSubmit:u}}();return(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Data Lapangan"}),(0,e.jsx)("p",{className:"text-gray-500 text-sm",children:"Kelola fasilitas, harga, dan jam operasional."})]}),(0,e.jsxs)(t.Button,{className:"bg-[#D93F21] hover:bg-[#b9351b] shadow-sm",onClick:p,children:[(0,e.jsx)(s.Plus,{className:"w-4 h-4 mr-2"})," Tambah Lapangan"]})]}),(0,e.jsx)(x,{loading:c,lapangans:a,onEdit:u,onDelete:g}),(0,e.jsx)(_,{isOpen:d,onOpenChange:o,onSubmit:h,initialData:m})]})}a.s(["default",()=>w],19454)}]);