{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd-FIX/maindihatta-frontend/src/app/pelanggan/notifications/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { ArrowLeft, Bell, Clock, CheckCircle } from 'lucide-react'; // Pastikan import icon benar\r\nimport Link from 'next/link';\r\nimport { Button } from '@/components/ui/button';\r\nimport axios from 'axios'; // 1. Gunakan Axios\r\n\r\n// Tipe data sesuai respon API Laravel\r\ninterface Notification {\r\n    id: string;\r\n    title: string;\r\n    message: string;\r\n    status: string;\r\n    is_read: boolean;\r\n    created_at: string;\r\n    date_raw: string;\r\n}\r\n\r\nexport default function NotificationPage() {\r\n    const { user } = useAuth();\r\n    const router = useRouter();\r\n    const [notifications, setNotifications] = useState<Notification[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // --- FETCH DATA ---\r\n    useEffect(() => {\r\n        if (!user) return;\r\n\r\n        const fetchNotifications = async () => {\r\n            try {\r\n                const baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\r\n                const response = await axios.get(`${baseURL}/notifications`, {\r\n                    params: { \r\n                        user_id: user.id \r\n                    },\r\n                    headers: {\r\n                        'Accept': 'application/json' \r\n                    }\r\n                });\r\n\r\n                if (response.data.success) {\r\n                    setNotifications(response.data.data);\r\n                }\r\n            } catch (error) {\r\n                if (axios.isAxiosError(error)) {\r\n                    console.error(\"Gagal ambil notif:\", error.response?.status, error.response?.data);\r\n                } else {\r\n                    console.error(\"Unknown Error:\", error);\r\n                }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchNotifications();\r\n    }, [user]);\r\n\r\n    const handleMarkAsRead = async (notifId: string, isRead: boolean) => {\r\n        if (isRead) return;\r\n\r\n        setNotifications(prev => prev.map(n => \r\n            n.id === notifId ? { ...n, is_read: true } : n\r\n        ));\r\n\r\n        try {\r\n            const baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\r\n            \r\n            await axios.post(`${baseURL}/notifications/${notifId}/read`, {}, {\r\n                params: { user_id: user?.id },\r\n                headers: { 'Accept': 'application/json' }\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Gagal update status read\", error);\r\n        }\r\n    };\r\n\r\n    const handleMarkAllRead = async () => {\r\n        setNotifications(prev => prev.map(n => ({ ...n, is_read: true })));\r\n        \r\n        try {\r\n            const baseURL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000/api';\r\n\r\n            await axios.post(`${baseURL}/notifications/read-all`, {}, {\r\n                params: { user_id: user?.id },\r\n                headers: { 'Accept': 'application/json' }\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Gagal mark all\", error);\r\n        }\r\n    }\r\n\r\n    if (!user) return null;\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-50 pb-10\">\r\n            {/* Header */}\r\n            <div className=\"bg-white border-b border-gray-100 sticky top-0 z-10 px-4 py-4 shadow-sm\">\r\n                <div className=\"max-w-2xl mx-auto flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <Button \r\n                            variant=\"ghost\" \r\n                            size=\"icon\" \r\n                            onClick={() => router.back()}\r\n                            className=\"text-gray-600 hover:bg-gray-100 rounded-full\"\r\n                        >\r\n                            <ArrowLeft className=\"w-6 h-6\" />\r\n                        </Button>\r\n                        <h1 className=\"text-xl font-bold text-gray-900\">Notifikasi</h1>\r\n                    </div>\r\n                    \r\n                    <Button \r\n                        variant=\"ghost\" \r\n                        onClick={handleMarkAllRead}\r\n                        className=\"text-sm text-[#D93F21] hover:text-[#b9351b] font-semibold\"\r\n                    >\r\n                        Tandai semua dibaca\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"max-w-2xl mx-auto px-4 mt-6\">\r\n                {loading ? (\r\n                    <div className=\"space-y-4\">\r\n                        {[1, 2, 3].map((i) => (\r\n                            <div key={i} className=\"h-24 bg-gray-200 rounded-xl animate-pulse\" />\r\n                        ))}\r\n                    </div>\r\n                ) : notifications.length === 0 ? (\r\n                    <div className=\"text-center py-20\">\r\n                        <div className=\"bg-gray-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <Bell className=\"w-10 h-10 text-gray-400\" />\r\n                        </div>\r\n                        <h3 className=\"text-lg font-bold text-gray-900\">Belum ada notifikasi</h3>\r\n                        <p className=\"text-gray-500\">Semua aktivitas pesanan Anda akan muncul di sini.</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"space-y-3\">\r\n                        {notifications.map((notif) => (\r\n                            <div \r\n                                key={notif.id}\r\n                                onClick={() => handleMarkAsRead(notif.id, notif.is_read)}\r\n                                className={`\r\n                                    relative p-4 rounded-xl border transition-all cursor-pointer hover:shadow-md\r\n                                    ${notif.is_read \r\n                                        ? 'bg-white border-gray-200' \r\n                                        : 'bg-orange-50 border-orange-100 shadow-sm'\r\n                                    }\r\n                                `}\r\n                            >\r\n                                <div className=\"flex gap-4 items-start\">\r\n                                    <div className={`\r\n                                        mt-1 min-w-[40px] h-10 rounded-full flex items-center justify-center\r\n                                        ${notif.is_read ? 'bg-gray-100 text-gray-500' : 'bg-[#D93F21]/10 text-[#D93F21]'}\r\n                                    `}>\r\n                                        <Bell className=\"w-5 h-5\" />\r\n                                    </div>\r\n\r\n                                    <div className=\"flex-1\">\r\n                                        <div className=\"flex justify-between items-start mb-1\">\r\n                                            <h4 className={`text-base ${notif.is_read ? 'font-semibold text-gray-700' : 'font-bold text-gray-900'}`}>\r\n                                                {notif.title}\r\n                                            </h4>\r\n                                            {!notif.is_read && (\r\n                                                <span className=\"w-2.5 h-2.5 bg-[#D93F21] rounded-full mt-1.5 animate-pulse\"></span>\r\n                                            )}\r\n                                        </div>\r\n                                        \r\n                                        <p className=\"text-sm text-gray-600 leading-relaxed mb-2\">\r\n                                            {notif.message}\r\n                                        </p>\r\n                                        \r\n                                        <div className=\"flex items-center gap-2 text-xs text-gray-400\">\r\n                                            <Clock className=\"w-3.5 h-3.5\" />\r\n                                            <span>{notif.created_at}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/arrow-left.js","sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd-FIX/maindihatta-frontend/node_modules/lucide-react/src/icons/arrow-left.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n];\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('arrow-left', __iconNode);\n\nexport default ArrowLeft;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAkB,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC/C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAY,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;CAC3C;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,SAAA,CAAA,CAAA,KAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAc,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}},
    {"offset": {"line": 409, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/clock.js","sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd-FIX/maindihatta-frontend/node_modules/lucide-react/src/icons/clock.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 6v6l4 2', key: 'mmk7yg' }],\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n];\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgNnY2bDQgMiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('clock', __iconNode);\n\nexport default Clock;\n"],"names":[],"mappings":";;;;;;;;;;;;;AAGO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,UAAA,CAAA,CAAA,CAAuB;IAClC;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAQ,CAAA;YAAE,GAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAe,CAAA,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA;IAC5C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAU;YAAE,CAAA,CAAA,CAAA,CAAI,IAAA,CAAA;YAAM,CAAA,CAAA,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAG,CAAA,CAAA,CAAA,CAAA;YAAM,CAAA,CAAA,CAAA,CAAA,CAAK,QAAA;QAAA,CAAU;KAAA;CAC3D;AAaA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAM,KAAA,CAAA,CAAA,KAAQ,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,iKAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAS,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA"}}]
}