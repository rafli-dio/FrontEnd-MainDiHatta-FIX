{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,2WACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,0BAAY,2KAAgB,MAIhC,CACE,EAAE,SAAS,EAAE,cAAc,YAAY,EAAE,aAAa,IAAI,EAAE,GAAG,OAAO,EACtE,oBAEA,6LAAC,gLAAuB;QACtB,KAAK;QACL,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,sBACA,gBAAgB,eAAe,mBAAmB,kBAClD;QAED,GAAG,KAAK;;;;;;;AAIf,UAAU,WAAW,GAAG,gLAAuB,CAAC,WAAW"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Sheet = SheetPrimitive.Root\n\nconst SheetTrigger = SheetPrimitive.Trigger\n\nconst SheetClose = SheetPrimitive.Close\n\nconst SheetPortal = SheetPrimitive.Portal\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  }\n)\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Content>,\n  SheetContentProps\n>(({ side = \"right\", className, children, ...props }, ref) => (\n  <SheetPortal>\n    <SheetOverlay />\n    <SheetPrimitive.Content\n      ref={ref}\n      className={cn(sheetVariants({ side }), className)}\n      {...props}\n    >\n      <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </SheetPrimitive.Close>\n      {children}\n    </SheetPrimitive.Content>\n  </SheetPortal>\n))\nSheetContent.displayName = SheetPrimitive.Content.displayName\n\nconst SheetHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetHeader.displayName = \"SheetHeader\"\n\nconst SheetFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nSheetFooter.displayName = \"SheetFooter\"\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold text-foreground\", className)}\n    {...props}\n  />\n))\nSheetTitle.displayName = SheetPrimitive.Title.displayName\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nSheetDescription.displayName = SheetPrimitive.Description.displayName\n\nexport {\n  Sheet,\n  SheetPortal,\n  SheetOverlay,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAEA;AAPA;;;;;;;AASA,MAAM,QAAQ,6KAAmB;AAEjC,MAAM,eAAe,gLAAsB;AAE3C,MAAM,aAAa,8KAAoB;AAEvC,MAAM,cAAc,+KAAqB;AAEzC,MAAM,6BAAe,2KAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAsB;QACrB,WAAW,IAAA,4HAAE,EACX,2JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,gLAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,IAAA,0KAAG,EACvB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,2KAAgB,OAGnC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpD,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAsB;gBACrB,KAAK;gBACL,WAAW,IAAA,4HAAE,EAAC,cAAc;oBAAE;gBAAK,IAAI;gBACtC,GAAG,KAAK;;kCAET,6LAAC,8KAAoB;wBAAC,WAAU;;0CAC9B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;oBAE3B;;;;;;;;;;;;;;AAIP,aAAa,WAAW,GAAG,gLAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,oDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EACnB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yCAAyC;QACtD,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,8KAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,2KAAgB,OAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA0B;QACzB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,oLAA0B,CAAC,WAAW"}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/app/pelanggan/produk/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport axios from '@/lib/axios';\r\nimport Image from 'next/image';\r\nimport Link from 'next/link'; \r\nimport { \r\n    Search, ShoppingBag, UtensilsCrossed, Plus, Minus, User, Trash2, ShoppingCart, \r\n    Receipt, Loader2, ArrowRight\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { useAuth } from '@/hooks/useAuth';\r\n\r\n// 1. Import Context\r\nimport { useCart } from '@/context/CartContext'; \r\n\r\n// UI Components\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Separator } from '@/components/ui/separator';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport {\r\n    Sheet,\r\n    SheetContent,\r\n    SheetTrigger,\r\n} from \"@/components/ui/sheet\";\r\n\r\n// Types\r\nimport { ProdukResto, Kategori } from '@/types';\r\n\r\nexport default function ProdukPage() {\r\n    const { user } = useAuth({ middleware: 'auth' });\r\n\r\n    // 2. Gunakan Cart dari Context Global\r\n    // Hapus state cart lokal, ganti dengan yang dari context\r\n    const { cart, addToCart, removeFromCart, updateQty, clearCart, totalItems, totalPrice } = useCart();\r\n\r\n    // State Data\r\n    const [products, setProducts] = useState<ProdukResto[]>([]);\r\n    const [categories, setCategories] = useState<Kategori[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    // State Filter\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [selectedCategory, setSelectedCategory] = useState<string>('All');\r\n\r\n    // State Transaksi\r\n    const [tableNumber, setTableNumber] = useState('');\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n    \r\n    // Fetch Data\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                const [resProd, resKat] = await Promise.all([\r\n                    axios.get('/api/produkRestos'),\r\n                    axios.get('/api/kategoris')\r\n                ]);\r\n                setProducts(resProd.data);\r\n                setCategories(resKat.data);\r\n            } catch (error) {\r\n                console.error(error);\r\n                toast.error(\"Gagal memuat menu.\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    const formatRupiah = (num: number) => \r\n        new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(num);\r\n\r\n    const filteredProducts = products.filter(item => {\r\n        const matchSearch = item.nama_produk.toLowerCase().includes(searchQuery.toLowerCase());\r\n        const matchCategory = selectedCategory === 'All' || (item.kategori?.nama_kategori === selectedCategory);\r\n        return matchSearch && matchCategory && item.is_tersedia;\r\n    });\r\n\r\n    // 3. Wrapper AddToCart (Langsung panggil context)\r\n    const handleAddToCart = (product: ProdukResto) => {\r\n        addToCart(product); // Panggil fungsi dari context\r\n    };\r\n\r\n    // Submit Order\r\n    const handleOrderNow = async () => {\r\n        if (cart.length === 0) return toast.error(\"Keranjang masih kosong!\");\r\n        if (!tableNumber) return toast.error(\"Mohon isi Nomor Meja!\");\r\n\r\n        setIsProcessing(true);\r\n        try {\r\n            const payload = {\r\n                payment_method_id: 1, \r\n                total_bayar: 0, \r\n                nama_pelanggan: `${user?.name} (Meja ${tableNumber})`,\r\n                items: cart.map(item => ({\r\n                    produk_resto_id: item.id,\r\n                    jumlah: item.qty\r\n                }))\r\n            };\r\n\r\n            await axios.post('/api/transaksiRestos', payload);\r\n\r\n            toast.success(\"Pesanan Berhasil!\", { description: \"Mohon tunggu, pesanan sedang disiapkan.\" });\r\n            \r\n            clearCart(); // Kosongkan keranjang global\r\n            setTableNumber('');\r\n            \r\n        } catch (error: any) {\r\n            console.error(error);\r\n            toast.error(error.response?.data?.message || \"Gagal membuat pesanan.\");\r\n        } finally {\r\n            setIsProcessing(false);\r\n        }\r\n    };\r\n\r\n    // --- KONTEN SIDEBAR (Dipisah agar bisa dipakai di Sheet Mobile juga) ---\r\n    const OrderSidebarContent = () => (\r\n        <div className=\"flex flex-col h-full bg-white\">\r\n            {/* 1. CUSTOMER INFO (SELALU MUNCUL) */}\r\n            <div className=\"p-6 border-b border-gray-100\">\r\n                <h3 className=\"text-[#D93F21] font-bold text-lg mb-4\">Customer Information</h3>\r\n                <div className=\"space-y-3\">\r\n                    <div>\r\n                        <p className=\"text-xs text-gray-400 font-medium mb-1\">Customer Name :</p>\r\n                        <div className=\"flex items-center gap-2 font-bold text-gray-900\">\r\n                            <User className=\"w-4 h-4 text-gray-400\" />\r\n                            {user?.name || 'Guest'}\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <p className=\"text-xs text-gray-400 font-medium mb-1\">Table Number :</p>\r\n                        <Input \r\n                            type=\"number\" \r\n                            placeholder=\"No. Meja (Contoh: 12)\" \r\n                            className=\"font-bold border-gray-200 focus:border-[#D93F21] rounded-lg bg-gray-50\"\r\n                            value={tableNumber}\r\n                            onChange={(e) => setTableNumber(e.target.value)}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* 2. LOGIKA KONDISIONAL ISI KERANJANG */}\r\n            {cart.length > 0 ? (\r\n                <>\r\n                    {/* Current Order List */}\r\n                    <div className=\"p-6 min-h-[200px] animate-in fade-in slide-in-from-bottom-4 flex-1 overflow-y-auto custom-scrollbar\">\r\n                        <h3 className=\"text-[#D93F21] font-bold text-lg mb-4\">Current Order</h3>\r\n                        \r\n                        <div className=\"space-y-4\">\r\n                            {cart.map((item) => (\r\n                                <div key={item.id} className=\"flex items-center gap-3\">\r\n                                    <div className=\"w-14 h-14 rounded-lg overflow-hidden relative bg-gray-100 shrink-0\">\r\n                                        <Image src={item.foto_url || ''} alt={item.nama_produk} fill className=\"object-cover\" unoptimized />\r\n                                    </div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <p className=\"font-bold text-gray-900 text-sm truncate\">{item.nama_produk}</p>\r\n                                        <p className=\"text-xs text-gray-400\">{formatRupiah(Number(item.harga_jual))}</p>\r\n                                        {item.catatan && <p className=\"text-[10px] text-orange-500 italic truncate\">{item.catatan}</p>}\r\n                                    </div>\r\n                                    <div className=\"flex items-center gap-2\">\r\n                                        <button onClick={() => item.qty === 1 ? removeFromCart(item.id) : updateQty(item.id, -1)} className=\"text-gray-400 hover:text-[#D93F21]\">\r\n                                            <Minus className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                        <span className=\"text-sm font-bold w-4 text-center\">{item.qty}</span>\r\n                                        <button onClick={() => updateQty(item.id, 1)} className=\"text-gray-400 hover:text-[#D93F21]\">\r\n                                            <Plus className=\"w-4 h-4\" />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Payment Summary */}\r\n                    <div className=\"p-6 bg-gray-50 border-t border-gray-100 animate-in fade-in slide-in-from-bottom-4 mt-auto sticky bottom-0\">\r\n                        <h3 className=\"text-[#D93F21] font-bold text-lg mb-4\">Payment Summary</h3>\r\n                        <div className=\"space-y-2 text-sm mb-6\">\r\n                            <div className=\"flex justify-between text-gray-500\">\r\n                                <span>Subtotal :</span>\r\n                                <span>{formatRupiah(totalPrice)}</span>\r\n                            </div>\r\n                            <div className=\"flex justify-between text-gray-500\">\r\n                                <span>Tax (0%) :</span>\r\n                                <span>Rp. 0</span>\r\n                            </div>\r\n                            <Separator className=\"my-2\" />\r\n                            <div className=\"flex justify-between font-bold text-gray-900 text-base\">\r\n                                <span>Total :</span>\r\n                                <span>{formatRupiah(totalPrice)}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Button \r\n                            className=\"w-full bg-[#D93F21] hover:bg-[#b9351b] text-white font-bold py-6 rounded-xl shadow-lg shadow-orange-200\"\r\n                            onClick={handleOrderNow}\r\n                            disabled={isProcessing}\r\n                        >\r\n                            {isProcessing ? \"Memproses...\" : \"Order Now\"}\r\n                        </Button>\r\n                    </div>\r\n                </>\r\n            ) : (\r\n                // Tampilan Kosong (Placeholder)\r\n                <div className=\"p-8 text-center flex flex-col items-center justify-center text-gray-400 min-h-[300px] bg-gray-50/50 flex-1\">\r\n                    <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4\">\r\n                        <ShoppingCart className=\"w-8 h-8 text-gray-300\" />\r\n                    </div>\r\n                    <h3 className=\"text-lg font-bold text-gray-600 mb-2\">Keranjang Kosong</h3>\r\n                    <p className=\"text-sm max-w-[200px]\">Silakan pilih menu di sebelah kiri untuk mulai memesan.</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-[#f8f9fa] font-sans text-gray-900\">\r\n            {/* Navbar (Menggunakan komponen Navbar yang sudah ada di Layout, jadi di sini tidak perlu dipanggil lagi jika sudah di Layout) */}\r\n            {/* TAPI karena struktur project Anda sebelumnya memanggil Navbar di setiap page, saya biarkan di sini. */}\r\n            {/* Jika Anda sudah memindahkan Navbar ke layout.tsx, hapus baris ini. */}\r\n\r\n            <main className=\"max-w-7xl mx-auto px-4 md:px-6 py-8\">\r\n                \r\n                {/* Header Title */}\r\n                <div className=\"text-center mb-10\">\r\n                    <h1 className=\"text-3xl md:text-4xl font-extrabold text-gray-900\">\r\n                        Explore Produk Makanan & <br/> <span className=\"text-[#D93F21]\">Minuman di sini</span>\r\n                    </h1>\r\n                </div>\r\n\r\n                <div className=\"flex flex-col lg:flex-row gap-8 items-start relative\">\r\n                    \r\n                    {/* === BAGIAN KIRI: KATALOG PRODUK (65%) === */}\r\n                    <div className=\"w-full lg:w-2/3\">\r\n                        \r\n                        {/* Filter & Search */}\r\n                        <div className=\"flex flex-col sm:flex-row justify-between items-center gap-4 mb-8\">\r\n                            <div className=\"flex gap-2 overflow-x-auto pb-2 sm:pb-0 w-full sm:w-auto no-scrollbar\">\r\n                                {['All', 'Makanan', 'Minuman', 'Snack'].map(cat => (\r\n                                    <button\r\n                                        key={cat}\r\n                                        onClick={() => setSelectedCategory(cat === 'All' ? 'All' : cat)} \r\n                                        className={`px-5 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${\r\n                                            (selectedCategory === cat || (cat === 'All' && selectedCategory === 'All'))\r\n                                                ? 'bg-[#D93F21] text-white shadow-md'\r\n                                                : 'bg-white border border-gray-200 text-gray-600 hover:bg-gray-50'\r\n                                        }`}\r\n                                    >\r\n                                        {cat}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                            <div className=\"relative w-full sm:w-64\">\r\n                                <input \r\n                                    type=\"text\" \r\n                                    placeholder=\"Cari menu...\" \r\n                                    className=\"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-full text-sm focus:outline-none focus:border-[#D93F21]\"\r\n                                    value={searchQuery}\r\n                                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                                />\r\n                                <Search className=\"w-4 h-4 absolute left-3 top-2.5 text-gray-400\" />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Mobile Cart Trigger (Floating Button) */}\r\n                        <Sheet>\r\n                            <SheetTrigger asChild>\r\n                                <Button className=\"lg:hidden fixed bottom-6 right-6 z-50 bg-[#D93F21] hover:bg-[#b9351b] rounded-full h-14 w-14 shadow-2xl flex items-center justify-center\">\r\n                                    <ShoppingCart className=\"w-6 h-6\" />\r\n                                    {totalItems > 0 && (\r\n                                        <Badge className=\"absolute -top-2 -right-2 bg-white text-[#D93F21] hover:bg-white border-2 border-[#D93F21] h-6 w-6 flex items-center justify-center rounded-full p-0\">{totalItems}</Badge>\r\n                                    )}\r\n                                </Button>\r\n                            </SheetTrigger>\r\n                            <SheetContent side=\"bottom\" className=\"h-[85vh] rounded-t-[2rem] p-0\">\r\n                                <OrderSidebarContent />\r\n                            </SheetContent>\r\n                        </Sheet>\r\n\r\n                        {/* Grid Produk */}\r\n                        {loading ? (\r\n                            <div className=\"text-center py-20\">Memuat menu...</div>\r\n                        ) : filteredProducts.length === 0 ? (\r\n                            <div className=\"text-center py-20 bg-white rounded-xl border border-dashed\">\r\n                                <UtensilsCrossed className=\"w-12 h-12 text-gray-300 mx-auto mb-2\" />\r\n                                <p className=\"text-gray-500\">Menu tidak ditemukan.</p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6\">\r\n                                {filteredProducts.map((item) => (\r\n                                    <div key={item.id} className=\"group bg-white rounded-[2rem] p-4 border border-gray-100 hover:border-[#D93F21]/30 hover:shadow-2xl transition-all duration-500 hover:-translate-y-2 relative overflow-hidden flex flex-col h-full\">\r\n                                        \r\n                                        {/* Link ke Detail: Bungkus Gambar */}\r\n                                        <Link href={`/pelanggan/produk/${item.id}`} className=\"cursor-pointer block\">\r\n                                            <div className=\"relative h-40 w-full rounded-xl overflow-hidden mb-3 bg-gray-100\">\r\n                                                <Image \r\n                                                    src={item.foto_url || '/images/placeholder-food.jpg'} \r\n                                                    alt={item.nama_produk}\r\n                                                    fill\r\n                                                    className=\"object-cover group-hover:scale-110 transition-transform duration-700\"\r\n                                                    unoptimized\r\n                                                />\r\n                                                <div className=\"absolute top-2 left-2 bg-white/90 px-2 py-1 rounded-md text-[10px] font-bold text-gray-800 shadow-sm z-10\">\r\n                                                    {item.kategori?.nama_kategori}\r\n                                                </div>\r\n                                            </div>\r\n                                        </Link>\r\n\r\n                                        <div className=\"px-2 pb-2 flex flex-col flex-1\">\r\n                                            {/* Link ke Detail: Bungkus Judul */}\r\n                                            <Link href={`/pelanggan/produk/${item.id}`} className=\"cursor-pointer block\">\r\n                                                <h3 className=\"font-bold text-gray-900 text-base mb-1 line-clamp-1 group-hover:text-[#D93F21] transition-colors\">\r\n                                                    {item.nama_produk}\r\n                                                </h3>\r\n                                                <p className=\"text-gray-400 text-xs line-clamp-2 min-h-[2.5em]\">\r\n                                                    {item.deskripsi || \"Menu lezat...\"}\r\n                                                </p>\r\n                                            </Link>\r\n                                            \r\n                                            <div className=\"flex justify-between items-center pt-3 border-t border-gray-100 mt-auto\">\r\n                                                <p className=\"text-lg font-extrabold text-gray-900\">{formatRupiah(Number(item.harga_jual))}</p>\r\n                                                \r\n                                                {/* Tombol Order (Stop Propagasi) */}\r\n                                                <Button \r\n                                                    size=\"sm\" \r\n                                                    className=\"bg-white text-[#D93F21] border border-[#D93F21] hover:bg-[#D93F21] hover:text-white rounded-full font-bold transition-colors h-9 px-4 z-20 relative shadow-sm\"\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation(); // Mencegah pindah ke halaman detail\r\n                                                        e.preventDefault(); \r\n                                                        handleAddToCart(item);\r\n                                                    }}\r\n                                                >\r\n                                                    Order <span className=\"ml-1 bg-[#D93F21]/10 p-0.5 rounded-full\"><Plus className=\"w-3 h-3\" /></span>\r\n                                                </Button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* === BAGIAN KANAN: KERANJANG / ORDER INFO (35%) === */}\r\n                    {/* STICKY SIDEBAR DESKTOP */}\r\n                    <div className=\"w-full lg:w-1/3 hidden lg:block\">\r\n                        <div className=\"sticky top-24 bg-white rounded-[2rem] shadow-xl border border-gray-100 overflow-hidden h-[calc(100vh-100px)] flex flex-col\">\r\n                            <OrderSidebarContent />\r\n                        </div>\r\n                    </div>\r\n\r\n                </div>\r\n            </main>\r\n        </div>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAEA,oBAAoB;AACpB;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;;AArBA;;;;;;;;;;;;;;AA8Be,SAAS;;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAO,EAAC;QAAE,YAAY;IAAO;IAE9C,sCAAsC;IACtC,yDAAyD;IACzD,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,cAAc,EAAE,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,EAAE,GAAG,IAAA,4IAAO;IAEjG,aAAa;IACb,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAgB,EAAE;IAC1D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAa,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,eAAe;IACf,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,yKAAQ,EAAS;IAEjE,kBAAkB;IAClB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,aAAa;IACb,IAAA,0KAAS;gCAAC;YACN,MAAM;kDAAY;oBACd,IAAI;wBACA,MAAM,CAAC,SAAS,OAAO,GAAG,MAAM,QAAQ,GAAG,CAAC;4BACxC,iIAAK,CAAC,GAAG,CAAC;4BACV,iIAAK,CAAC,GAAG,CAAC;yBACb;wBACD,YAAY,QAAQ,IAAI;wBACxB,cAAc,OAAO,IAAI;oBAC7B,EAAE,OAAO,OAAO;wBACZ,QAAQ,KAAK,CAAC;wBACd,oJAAK,CAAC,KAAK,CAAC;oBAChB,SAAU;wBACN,WAAW;oBACf;gBACJ;;YACA;QACJ;+BAAG,EAAE;IAEL,MAAM,eAAe,CAAC,MAClB,IAAI,KAAK,YAAY,CAAC,SAAS;YAAE,OAAO;YAAY,UAAU;YAAO,uBAAuB;QAAE,GAAG,MAAM,CAAC;IAE5G,MAAM,mBAAmB,SAAS,MAAM,CAAC,CAAA;QACrC,MAAM,cAAc,KAAK,WAAW,CAAC,WAAW,GAAG,QAAQ,CAAC,YAAY,WAAW;QACnF,MAAM,gBAAgB,qBAAqB,SAAU,KAAK,QAAQ,EAAE,kBAAkB;QACtF,OAAO,eAAe,iBAAiB,KAAK,WAAW;IAC3D;IAEA,kDAAkD;IAClD,MAAM,kBAAkB,CAAC;QACrB,UAAU,UAAU,8BAA8B;IACtD;IAEA,eAAe;IACf,MAAM,iBAAiB;QACnB,IAAI,KAAK,MAAM,KAAK,GAAG,OAAO,oJAAK,CAAC,KAAK,CAAC;QAC1C,IAAI,CAAC,aAAa,OAAO,oJAAK,CAAC,KAAK,CAAC;QAErC,gBAAgB;QAChB,IAAI;YACA,MAAM,UAAU;gBACZ,mBAAmB;gBACnB,aAAa;gBACb,gBAAgB,GAAG,MAAM,KAAK,OAAO,EAAE,YAAY,CAAC,CAAC;gBACrD,OAAO,KAAK,GAAG,CAAC,CAAA,OAAQ,CAAC;wBACrB,iBAAiB,KAAK,EAAE;wBACxB,QAAQ,KAAK,GAAG;oBACpB,CAAC;YACL;YAEA,MAAM,iIAAK,CAAC,IAAI,CAAC,wBAAwB;YAEzC,oJAAK,CAAC,OAAO,CAAC,qBAAqB;gBAAE,aAAa;YAA0C;YAE5F,aAAa,6BAA6B;YAC1C,eAAe;QAEnB,EAAE,OAAO,OAAY;YACjB,QAAQ,KAAK,CAAC;YACd,oJAAK,CAAC,KAAK,CAAC,MAAM,QAAQ,EAAE,MAAM,WAAW;QACjD,SAAU;YACN,gBAAgB;QACpB;IACJ;IAEA,0EAA0E;IAC1E,MAAM,sBAAsB,kBACxB,6LAAC;YAAI,WAAU;;8BAEX,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAG,WAAU;sCAAwC;;;;;;sCACtD,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;;sDACG,6LAAC;4CAAE,WAAU;sDAAyC;;;;;;sDACtD,6LAAC;4CAAI,WAAU;;8DACX,6LAAC,6MAAI;oDAAC,WAAU;;;;;;gDACf,MAAM,QAAQ;;;;;;;;;;;;;8CAGvB,6LAAC;;sDACG,6LAAC;4CAAE,WAAU;sDAAyC;;;;;;sDACtD,6LAAC,6IAAK;4CACF,MAAK;4CACL,aAAY;4CACZ,WAAU;4CACV,OAAO;4CACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;;;;;;;gBAO7D,KAAK,MAAM,GAAG,kBACX;;sCAEI,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAG,WAAU;8CAAwC;;;;;;8CAEtD,6LAAC;oCAAI,WAAU;8CACV,KAAK,GAAG,CAAC,CAAC,qBACP,6LAAC;4CAAkB,WAAU;;8DACzB,6LAAC;oDAAI,WAAU;8DACX,cAAA,6LAAC,2IAAK;wDAAC,KAAK,KAAK,QAAQ,IAAI;wDAAI,KAAK,KAAK,WAAW;wDAAE,IAAI;wDAAC,WAAU;wDAAe,WAAW;;;;;;;;;;;8DAErG,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAE,WAAU;sEAA4C,KAAK,WAAW;;;;;;sEACzE,6LAAC;4DAAE,WAAU;sEAAyB,aAAa,OAAO,KAAK,UAAU;;;;;;wDACxE,KAAK,OAAO,kBAAI,6LAAC;4DAAE,WAAU;sEAA+C,KAAK,OAAO;;;;;;;;;;;;8DAE7F,6LAAC;oDAAI,WAAU;;sEACX,6LAAC;4DAAO,SAAS,IAAM,KAAK,GAAG,KAAK,IAAI,eAAe,KAAK,EAAE,IAAI,UAAU,KAAK,EAAE,EAAE,CAAC;4DAAI,WAAU;sEAChG,cAAA,6LAAC,gNAAK;gEAAC,WAAU;;;;;;;;;;;sEAErB,6LAAC;4DAAK,WAAU;sEAAqC,KAAK,GAAG;;;;;;sEAC7D,6LAAC;4DAAO,SAAS,IAAM,UAAU,KAAK,EAAE,EAAE;4DAAI,WAAU;sEACpD,cAAA,6LAAC,6MAAI;gEAAC,WAAU;;;;;;;;;;;;;;;;;;2CAflB,KAAK,EAAE;;;;;;;;;;;;;;;;sCAwB7B,6LAAC;4BAAI,WAAU;;8CACX,6LAAC;oCAAG,WAAU;8CAAwC;;;;;;8CACtD,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;8DAAK;;;;;;8DACN,6LAAC;8DAAM,aAAa;;;;;;;;;;;;sDAExB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;8DAAK;;;;;;8DACN,6LAAC;8DAAK;;;;;;;;;;;;sDAEV,6LAAC,qJAAS;4CAAC,WAAU;;;;;;sDACrB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;8DAAK;;;;;;8DACN,6LAAC;8DAAM,aAAa;;;;;;;;;;;;;;;;;;8CAI5B,6LAAC,+IAAM;oCACH,WAAU;oCACV,SAAS;oCACT,UAAU;8CAET,eAAe,iBAAiB;;;;;;;;;;;;;mCAK7C,gCAAgC;8BAChC,6LAAC;oBAAI,WAAU;;sCACX,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC,yOAAY;gCAAC,WAAU;;;;;;;;;;;sCAE5B,6LAAC;4BAAG,WAAU;sCAAuC;;;;;;sCACrD,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;;;;IAMrD,qBACI,6LAAC;QAAI,WAAU;kBAKX,cAAA,6LAAC;YAAK,WAAU;;8BAGZ,6LAAC;oBAAI,WAAU;8BACX,cAAA,6LAAC;wBAAG,WAAU;;4BAAoD;0CACrC,6LAAC;;;;;4BAAI;0CAAC,6LAAC;gCAAK,WAAU;0CAAiB;;;;;;;;;;;;;;;;;8BAIxE,6LAAC;oBAAI,WAAU;;sCAGX,6LAAC;4BAAI,WAAU;;8CAGX,6LAAC;oCAAI,WAAU;;sDACX,6LAAC;4CAAI,WAAU;sDACV;gDAAC;gDAAO;gDAAW;gDAAW;6CAAQ,CAAC,GAAG,CAAC,CAAA,oBACxC,6LAAC;oDAEG,SAAS,IAAM,oBAAoB,QAAQ,QAAQ,QAAQ;oDAC3D,WAAW,CAAC,0EAA0E,EAClF,AAAC,qBAAqB,OAAQ,QAAQ,SAAS,qBAAqB,QAC9D,sCACA,kEACR;8DAED;mDARI;;;;;;;;;;sDAYjB,6LAAC;4CAAI,WAAU;;8DACX,6LAAC;oDACG,MAAK;oDACL,aAAY;oDACZ,WAAU;oDACV,OAAO;oDACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;8DAElD,6LAAC,mNAAM;oDAAC,WAAU;;;;;;;;;;;;;;;;;;8CAK1B,6LAAC,6IAAK;;sDACF,6LAAC,oJAAY;4CAAC,OAAO;sDACjB,cAAA,6LAAC,+IAAM;gDAAC,WAAU;;kEACd,6LAAC,yOAAY;wDAAC,WAAU;;;;;;oDACvB,aAAa,mBACV,6LAAC,6IAAK;wDAAC,WAAU;kEAAuJ;;;;;;;;;;;;;;;;;sDAIpL,6LAAC,oJAAY;4CAAC,MAAK;4CAAS,WAAU;sDAClC,cAAA,6LAAC;;;;;;;;;;;;;;;;gCAKR,wBACG,6LAAC;oCAAI,WAAU;8CAAoB;;;;;2CACnC,iBAAiB,MAAM,KAAK,kBAC5B,6LAAC;oCAAI,WAAU;;sDACX,6LAAC,kPAAe;4CAAC,WAAU;;;;;;sDAC3B,6LAAC;4CAAE,WAAU;sDAAgB;;;;;;;;;;;yDAGjC,6LAAC;oCAAI,WAAU;8CACV,iBAAiB,GAAG,CAAC,CAAC,qBACnB,6LAAC;4CAAkB,WAAU;;8DAGzB,6LAAC,0KAAI;oDAAC,MAAM,CAAC,kBAAkB,EAAE,KAAK,EAAE,EAAE;oDAAE,WAAU;8DAClD,cAAA,6LAAC;wDAAI,WAAU;;0EACX,6LAAC,2IAAK;gEACF,KAAK,KAAK,QAAQ,IAAI;gEACtB,KAAK,KAAK,WAAW;gEACrB,IAAI;gEACJ,WAAU;gEACV,WAAW;;;;;;0EAEf,6LAAC;gEAAI,WAAU;0EACV,KAAK,QAAQ,EAAE;;;;;;;;;;;;;;;;;8DAK5B,6LAAC;oDAAI,WAAU;;sEAEX,6LAAC,0KAAI;4DAAC,MAAM,CAAC,kBAAkB,EAAE,KAAK,EAAE,EAAE;4DAAE,WAAU;;8EAClD,6LAAC;oEAAG,WAAU;8EACT,KAAK,WAAW;;;;;;8EAErB,6LAAC;oEAAE,WAAU;8EACR,KAAK,SAAS,IAAI;;;;;;;;;;;;sEAI3B,6LAAC;4DAAI,WAAU;;8EACX,6LAAC;oEAAE,WAAU;8EAAwC,aAAa,OAAO,KAAK,UAAU;;;;;;8EAGxF,6LAAC,+IAAM;oEACH,MAAK;oEACL,WAAU;oEACV,SAAS,CAAC;wEACN,EAAE,eAAe,IAAI,oCAAoC;wEACzD,EAAE,cAAc;wEAChB,gBAAgB;oEACpB;;wEACH;sFACS,6LAAC;4EAAK,WAAU;sFAA0C,cAAA,6LAAC,6MAAI;gFAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2CA1CtF,KAAK,EAAE;;;;;;;;;;;;;;;;sCAsDjC,6LAAC;4BAAI,WAAU;sCACX,cAAA,6LAAC;gCAAI,WAAU;0CACX,cAAA,6LAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7B;GArUwB;;QACH,qIAAO;QAIkE,4IAAO;;;KAL7E"}}]
}