{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/lib/axios.ts"],"sourcesContent":["import axios, { AxiosInstance } from 'axios';\r\n\r\nconst axiosInstance: AxiosInstance = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_BACKEND_URL,\r\n    headers: {\r\n        'X-Requested-With': 'XMLHttpRequest',\r\n        'Accept': 'application/json',\r\n        // 'Content-Type': 'application/json',\r\n    },\r\n    withCredentials: true,\r\n});\r\n\r\nexport default axiosInstance;"],"names":[],"mappings":";;;;AAGa;AAHb;;AAEA,MAAM,gBAA+B,mJAAK,CAAC,MAAM,CAAC;IAC9C,OAAO;IACP,SAAS;QACL,oBAAoB;QACpB,UAAU;IAEd;IACA,iBAAiB;AACrB;uCAEe"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/hooks/useAuth.ts"],"sourcesContent":["import useSWR from 'swr';\r\nimport axios from '@/lib/axios';\r\nimport { useEffect } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { User } from '@/types';\r\n\r\ninterface UseAuthProps {\r\n    middleware?: 'guest' | 'auth';\r\n    redirectIfAuthenticated?: string;\r\n}\r\n\r\ninterface AuthActions {\r\n    setErrors: (errors: any) => void;\r\n    setStatus?: (status: string | null) => void;\r\n    [key: string]: any;\r\n}\r\n\r\nexport const useAuth = ({ middleware, redirectIfAuthenticated }: UseAuthProps = {}) => {\r\n    const router = useRouter();\r\n    const params = useParams();\r\n\r\n    const { data: user, error, mutate } = useSWR<User>('/api/auth/user', () =>\r\n        axios\r\n            .get('/api/auth/user')\r\n            .then(res => res.data)\r\n            .catch(error => {\r\n                if (error.response.status !== 409) throw error;\r\n                \r\n                router.push('/verify-email');\r\n            })\r\n    );\r\n\r\n    const csrf = () => axios.get('/sanctum/csrf-cookie');\r\n\r\n    // 3. LOGIN\r\n    const login = async ({ setErrors, setStatus, ...props }: AuthActions) => {\r\n        await csrf();\r\n        setErrors([]);\r\n        setStatus?.(null);\r\n\r\n        axios\r\n            .post('/api/login', props)\r\n            .then(() => mutate()) \r\n            .catch(error => {\r\n                if (error.response.status !== 422) throw error;\r\n                setErrors(error.response.data.errors);\r\n            });\r\n    };\r\n\r\n    // 4. REGISTER\r\n    const register = async ({ setErrors, ...props }: AuthActions) => {\r\n        await csrf();\r\n        setErrors([]);\r\n\r\n        axios\r\n            .post('/api/register', props)\r\n            .then(() => mutate()) \r\n            .catch(error => {\r\n                if (error.response.status !== 422) throw error;\r\n                setErrors(error.response.data.errors);\r\n            });\r\n    };\r\n\r\n    const logout = async () => {\r\n        if (!error) {\r\n            await axios.post('/api/auth/logout').then(() => mutate()); \r\n        }\r\n        window.location.pathname = '/login'; \r\n    };\r\n\r\n    useEffect(() => {\r\n        if (middleware === 'guest' && redirectIfAuthenticated && user) {\r\n            router.push(redirectIfAuthenticated);\r\n        }\r\n        \r\n        if (middleware === 'auth' && error) {\r\n             logout();\r\n        }\r\n    }, [user, error, middleware, redirectIfAuthenticated, router]);\r\n\r\n    return {\r\n        user,\r\n        login,\r\n        register,\r\n        logout,\r\n        mutate, \r\n    };\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;;AAcO,MAAM,UAAU,CAAC,EAAE,UAAU,EAAE,uBAAuB,EAAgB,GAAG,CAAC,CAAC;;IAC9E,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,SAAS,IAAA,kJAAS;IAExB,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAA,4KAAM,EAAO;0BAAkB,IACjE,iIAAK,CACA,GAAG,CAAC,kBACJ,IAAI;kCAAC,CAAA,MAAO,IAAI,IAAI;iCACpB,KAAK;kCAAC,CAAA;oBACH,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK,MAAM;oBAEzC,OAAO,IAAI,CAAC;gBAChB;;;IAGR,MAAM,OAAO,IAAM,iIAAK,CAAC,GAAG,CAAC;IAE7B,WAAW;IACX,MAAM,QAAQ,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoB;QAChE,MAAM;QACN,UAAU,EAAE;QACZ,YAAY;QAEZ,iIAAK,CACA,IAAI,CAAC,cAAc,OACnB,IAAI,CAAC,IAAM,UACX,KAAK,CAAC,CAAA;YACH,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK,MAAM;YACzC,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,MAAM;QACxC;IACR;IAEA,cAAc;IACd,MAAM,WAAW,OAAO,EAAE,SAAS,EAAE,GAAG,OAAoB;QACxD,MAAM;QACN,UAAU,EAAE;QAEZ,iIAAK,CACA,IAAI,CAAC,iBAAiB,OACtB,IAAI,CAAC,IAAM,UACX,KAAK,CAAC,CAAA;YACH,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK,MAAM;YACzC,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,MAAM;QACxC;IACR;IAEA,MAAM,SAAS;QACX,IAAI,CAAC,OAAO;YACR,MAAM,iIAAK,CAAC,IAAI,CAAC,oBAAoB,IAAI,CAAC,IAAM;QACpD;QACA,OAAO,QAAQ,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAA,0KAAS;6BAAC;YACN,IAAI,eAAe,WAAW,2BAA2B,MAAM;gBAC3D,OAAO,IAAI,CAAC;YAChB;YAEA,IAAI,eAAe,UAAU,OAAO;gBAC/B;YACL;QACJ;4BAAG;QAAC;QAAM;QAAO;QAAY;QAAyB;KAAO;IAE7D,OAAO;QACH;QACA;QACA;QACA;QACA;IACJ;AACJ;GAtEa;;QACM,kJAAS;QACT,kJAAS;QAEc,4KAAM"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB"}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/components/admin/Sidebar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport axios from '@/lib/axios'; // Import axios untuk fetch data\r\nimport { \r\n    LayoutDashboard, \r\n    Users, \r\n    ShoppingBag, \r\n    Utensils, \r\n    CalendarDays, \r\n    Wallet, \r\n    Settings, \r\n    LogOut,\r\n    Box,\r\n    ChevronDown, \r\n    ChevronRight,\r\n    Tags,\r\n    Scale,\r\n    Truck,\r\n    ShoppingCart,\r\n    Info,\r\n    BookText\r\n} from 'lucide-react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { Badge } from '@/components/ui/badge';\r\n\r\ntype SubMenuItem = {\r\n    title: string;\r\n    href: string;\r\n    icon?: any;\r\n};\r\n\r\ntype MenuItem = {\r\n    title: string;\r\n    href?: string; \r\n    icon: any;\r\n    submenu?: SubMenuItem[];\r\n    badgeCount?: number; \r\n};\r\n\r\nconst baseMenuItems: MenuItem[] = [\r\n    { title: 'Dashboard', href: '/admin/dashboard', icon: LayoutDashboard },\r\n    \r\n    { \r\n        title: 'Data Master', \r\n        icon: Settings,\r\n        submenu: [\r\n            { title: 'Kategori', href: '/admin/master/kategori', icon: Tags },\r\n            { title: 'Satuan Unit', href: '/admin/master/satuan', icon: Scale },\r\n            { title: 'Data Lapangan', href: '/admin/lapangan', icon: Box },\r\n            { title: 'Data Supplier', href: '/admin/master/supplier', icon: Truck }, \r\n            { title: 'Metode Pembayaran', href: '/admin/master/payment-method', icon: Wallet },\r\n            { title: 'Status Booking', href: '/admin/master/status-booking', icon: Info },\r\n            { title: 'Jenis Transaksi', href: '/admin/master/jenis-transaksi', icon: BookText },\r\n        ]\r\n    },\r\n\r\n    { title: 'Booking Lapangan', href: '/admin/bookings', icon: CalendarDays },\r\n    { title: 'Produk & Menu', href: '/admin/produk-resto', icon: Utensils },\r\n\r\n    { \r\n        title: 'Inventaris & Stok', \r\n        icon: ShoppingBag,\r\n        submenu: [\r\n            { title: 'Stok Bahan Baku', href: '/admin/inventaris', icon: Box }, \r\n            { title: 'Pembelian Stok', href: '/admin/inventaris/pembelian', icon: ShoppingCart }, \r\n        ]\r\n    },\r\n    \r\n    { title: 'Users & Role', href: '/admin/users', icon: Users },\r\n    { title: 'Laporan Keuangan', href: '/admin/keuangan', icon: Wallet },\r\n];\r\n\r\nexport default function Sidebar() {\r\n    const pathname = usePathname();\r\n    const { logout } = useAuth();\r\n\r\n    const [expandedMenus, setExpandedMenus] = useState<string[]>([]);\r\n    const [pendingBookingsCount, setPendingBookingsCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const fetchPendingCount = async () => {\r\n            try {\r\n        \r\n                const response = await axios.get('/api/bookings');\r\n                const bookings = response.data;\r\n                const count = bookings.filter((b: any) => b.status_booking_id === 2).length;\r\n                setPendingBookingsCount(count);\r\n            } catch (error) {\r\n                console.error(\"Gagal memuat notifikasi booking\", error);\r\n            }\r\n        };\r\n\r\n        fetchPendingCount();\r\n\r\n        const interval = setInterval(fetchPendingCount, 30000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        baseMenuItems.forEach(item => {\r\n            if (item.submenu) {\r\n                const isChildActive = item.submenu.some(sub => pathname.startsWith(sub.href));\r\n                if (isChildActive) {\r\n                    setExpandedMenus(prev => prev.includes(item.title) ? prev : [...prev, item.title]);\r\n                }\r\n            }\r\n        });\r\n    }, [pathname]);\r\n\r\n    const toggleMenu = (title: string) => {\r\n        setExpandedMenus(prev => \r\n            prev.includes(title) \r\n                ? prev.filter(t => t !== title) \r\n                : [...prev, title] \r\n        );\r\n    };\r\n\r\n    return (\r\n        <aside className=\"w-64 bg-white border-r border-gray-200 hidden md:flex flex-col h-screen fixed left-0 top-0 z-20\">\r\n            <div className=\"h-16 flex items-center justify-center border-b border-gray-200\">\r\n                <h1 className=\"text-2xl font-bold text-gray-900\">\r\n                    MainDi<span className=\"text-[#D93F21]\">Hatta</span>\r\n                </h1>\r\n            </div>\r\n\r\n            <nav className=\"flex-1 overflow-y-auto py-4 px-3 space-y-1 custom-scrollbar\">\r\n                {baseMenuItems.map((item) => {\r\n                    let badge = undefined;\r\n                    if (item.title === 'Booking Lapangan' && pendingBookingsCount > 0) {\r\n                        badge = pendingBookingsCount;\r\n                    }\r\n\r\n                    if (!item.submenu) {\r\n                        const isActive = pathname === item.href || pathname.startsWith(`${item.href}/`);\r\n                        return (\r\n                            <Link\r\n                                key={item.title}\r\n                                href={item.href!}\r\n                                className={`flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 group ${\r\n                                    isActive\r\n                                        ? 'bg-red-50 text-[#D93F21]'\r\n                                        : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                                }`}\r\n                            >\r\n                                <div className=\"flex items-center\">\r\n                                    <item.icon \r\n                                        className={`w-5 h-5 mr-3 transition-colors ${\r\n                                            isActive ? 'text-[#D93F21]' : 'text-gray-400 group-hover:text-gray-600'\r\n                                        }`} \r\n                                    />\r\n                                    {item.title}\r\n                                </div>\r\n                                {badge && (\r\n                                    <Badge className=\"bg-red-500 hover:bg-red-600 text-white border-none h-5 w-5 flex items-center justify-center rounded-full p-0 text-[10px]\">\r\n                                        {badge}\r\n                                    </Badge>\r\n                                )}\r\n                            </Link>\r\n                        );\r\n                    }\r\n\r\n                    const isExpanded = expandedMenus.includes(item.title);\r\n                    const isChildActive = item.submenu.some(sub => pathname.startsWith(sub.href));\r\n\r\n                    return (\r\n                        <div key={item.title} className=\"space-y-1\">\r\n                            <button\r\n                                onClick={() => toggleMenu(item.title)}\r\n                                className={`w-full flex items-center justify-between px-4 py-3 text-sm font-medium rounded-lg transition-colors ${\r\n                                    isChildActive \r\n                                        ? 'text-gray-900 bg-gray-50' \r\n                                        : 'text-gray-600 hover:bg-gray-50 hover:text-gray-900'\r\n                                }`}\r\n                            >\r\n                                <div className=\"flex items-center\">\r\n                                    <item.icon \r\n                                        className={`w-5 h-5 mr-3 ${\r\n                                            isChildActive ? 'text-[#D93F21]' : 'text-gray-400'\r\n                                        }`} \r\n                                    />\r\n                                    {item.title}\r\n                                </div>\r\n                                {isExpanded ? (\r\n                                    <ChevronDown className=\"w-4 h-4 text-gray-400\" />\r\n                                ) : (\r\n                                    <ChevronRight className=\"w-4 h-4 text-gray-400\" />\r\n                                )}\r\n                            </button>\r\n\r\n                            {isExpanded && (\r\n                                <div className=\"space-y-1 pl-4 relative before:absolute before:left-6 before:top-0 before:bottom-0 before:w-px before:bg-gray-200\">\r\n                                    {item.submenu.map((subItem) => {\r\n                                        let isSubActive = pathname === subItem.href || pathname.startsWith(`${subItem.href}/`);\r\n                                        if (isSubActive && item.submenu) {\r\n                                            const betterMatch = item.submenu.find(sibling => \r\n                                                sibling.href !== subItem.href && \r\n                                                sibling.href.length > subItem.href.length && \r\n                                                (pathname === sibling.href || pathname.startsWith(`${sibling.href}/`)) \r\n                                            );\r\n                                            if (betterMatch) {\r\n                                                isSubActive = false;\r\n                                            }\r\n                                        }\r\n\r\n                                        return (\r\n                                            <Link\r\n                                                key={subItem.href}\r\n                                                href={subItem.href}\r\n                                                className={`flex items-center px-4 py-2 text-sm font-medium rounded-lg transition-colors relative z-10 ${\r\n                                                    isSubActive\r\n                                                        ? 'text-[#D93F21] bg-red-50'\r\n                                                        : 'text-gray-500 hover:text-gray-900 hover:bg-gray-50'\r\n                                                }`}\r\n                                            >\r\n                                                {subItem.icon && (\r\n                                                    <subItem.icon className={`w-4 h-4 mr-2 ${isSubActive ? 'text-[#D93F21]' : 'text-gray-400'}`} />\r\n                                                )}\r\n                                                {subItem.title}\r\n                                            </Link>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    );\r\n                })}\r\n            </nav>\r\n\r\n            <div className=\"p-4 border-t border-gray-200\">\r\n                <button \r\n                    onClick={logout}\r\n                    className=\"flex items-center w-full px-4 py-2 text-sm font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-100 transition-colors\"\r\n                >\r\n                    <LogOut className=\"w-5 h-5 mr-3\" />\r\n                    Logout\r\n                </button>\r\n            </div>\r\n        </aside>\r\n    );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 576, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/lib/socket.ts"],"sourcesContent":["'use client';\r\n\r\nimport { io } from 'socket.io-client';\r\n\r\nconst WS_URL = process.env.NEXT_PUBLIC_WS_URL || '';\r\n\r\nconst socket = io(WS_URL, {\r\n  autoConnect: false,\r\n  auth: {\r\n    token: typeof window !== 'undefined' ? localStorage.getItem('access_token') : null,\r\n  },\r\n});\r\n\r\nexport default socket;\r\n"],"names":[],"mappings":";;;;AAIe;AAFf;AAFA;;AAIA,MAAM,SAAS,2KAAO,CAAC,GAAG,CAAC,kBAAkB,IAAI;AAEjD,MAAM,SAAS,IAAA,wLAAE,EAAC,QAAQ;IACxB,aAAa;IACb,MAAM;QACJ,OAAO,uCAAgC,aAAa,OAAO,CAAC,kBAAkB;IAChF;AACF;uCAEe"}},
    {"offset": {"line": 599, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/hooks/useNotifications.ts"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport socket from '@/lib/socket';\r\nimport { toast } from 'sonner';\r\n\r\nexport interface NotificationItem {\r\n  id: number;\r\n  type: string;\r\n  data: any;\r\n  read?: boolean;\r\n}\r\n\r\nexport default function useNotifications() {\r\n  const [items, setItems] = useState<NotificationItem[]>([]);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      socket.connect();\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n\r\n    const handleBookingPending = (payload: any) => {\r\n      const item: NotificationItem = {\r\n        id: Date.now(),\r\n        type: 'booking:pending',\r\n        data: payload,\r\n        read: false,\r\n      };\r\n      setItems(prev => [item, ...prev]);\r\n      toast.success('Booking baru perlu konfirmasi');\r\n    };\r\n\r\n    socket.on('booking:pending', handleBookingPending);\r\n\r\n    return () => {\r\n      socket.off('booking:pending', handleBookingPending);\r\n      try { socket.disconnect(); } catch(e) {}\r\n    };\r\n  }, []);\r\n\r\n  const markAllRead = () => setItems(prev => prev.map(i => ({ ...i, read: true })));\r\n\r\n  return { items, setItems, markAllRead };\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;AAJA;;;;AAae,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAqB,EAAE;IAEzD,IAAA,0KAAS;sCAAC;YACR,IAAI;gBACF,kIAAM,CAAC,OAAO;YAChB,EAAE,OAAO,GAAG;YACV,SAAS;YACX;YAEA,MAAM;mEAAuB,CAAC;oBAC5B,MAAM,OAAyB;wBAC7B,IAAI,KAAK,GAAG;wBACZ,MAAM;wBACN,MAAM;wBACN,MAAM;oBACR;oBACA;2EAAS,CAAA,OAAQ;gCAAC;mCAAS;6BAAK;;oBAChC,oJAAK,CAAC,OAAO,CAAC;gBAChB;;YAEA,kIAAM,CAAC,EAAE,CAAC,mBAAmB;YAE7B;8CAAO;oBACL,kIAAM,CAAC,GAAG,CAAC,mBAAmB;oBAC9B,IAAI;wBAAE,kIAAM,CAAC,UAAU;oBAAI,EAAE,OAAM,GAAG,CAAC;gBACzC;;QACF;qCAAG,EAAE;IAEL,MAAM,cAAc,IAAM,SAAS,CAAA,OAAQ,KAAK,GAAG,CAAC,CAAA,IAAK,CAAC;oBAAE,GAAG,CAAC;oBAAE,MAAM;gBAAK,CAAC;IAE9E,OAAO;QAAE;QAAO;QAAU;IAAY;AACxC;GAhCwB"}},
    {"offset": {"line": 667, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd/maindihatta-frontend/src/components/admin/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\nimport useNotifications from '@/hooks/useNotifications';\r\n\r\nfunction NotificationBell() {\r\n    const { items, markAllRead } = useNotifications();\r\n    const [open, setOpen] = useState(false);\r\n    const unread = items.filter(i => !i.read).length;\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                    setOpen(!open);\r\n                    if (!open) markAllRead();\r\n                }}\r\n                className=\"relative p-2 rounded hover:bg-gray-100\"\r\n                aria-label=\"Notifikasi\"\r\n            >\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-gray-700\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 10-12 0v3.159c0 .538-.214 1.055-.595 1.436L4 17h11z\" />\r\n                </svg>\r\n                {unread > 0 && (\r\n                    <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 flex items-center justify-center rounded-full\">{unread}</span>\r\n                )}\r\n            </button>\r\n\r\n            {open && (\r\n                <div className=\"absolute right-0 mt-2 w-80 bg-white border rounded shadow-lg z-20\">\r\n                    <div className=\"p-2 text-sm font-medium\">Notifikasi</div>\r\n                    <div className=\"max-h-64 overflow-auto\">\r\n                        {items.length === 0 ? (\r\n                            <div className=\"p-4 text-sm text-gray-500\">Tidak ada notifikasi</div>\r\n                        ) : (\r\n                            items.map(it => (\r\n                                <div key={it.id} className=\"p-3 border-t last:border-b hover:bg-gray-50\">\r\n                                    <div className=\"text-sm font-medium\">{it.type === 'booking:pending' ? `Booking: ${it.data?.kode_booking || 'n/a'}` : it.type}</div>\r\n                                    <div className=\"text-xs text-gray-500\">{it.data?.user?.name || ''}</div>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default function Header() {\r\n    const { user } = useAuth({ middleware: 'auth' });\r\n    const [imageError, setImageError] = useState(false);\r\n    useEffect(() => {\r\n        setImageError(false);\r\n    }, [user?.foto_url]);\r\n    return (\r\n        <header className=\"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 md:px-8 fixed top-0 right-0 left-0 md:left-64 z-10 transition-all\">\r\n            \r\n            <div className=\"flex items-center\">\r\n                <h2 className=\"text-lg font-semibold text-gray-800\">Admin Portal</h2>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n                \r\n                <div className=\"relative\">\r\n                    <NotificationBell />\r\n                </div>\r\n\r\n                <div className=\"text-right hidden sm:block\">\r\n                    <p className=\"text-sm font-medium text-gray-900\">\r\n                        {user?.name || 'Memuat...'}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                        {user?.role?.name_role || 'Administrator'}\r\n                    </p>\r\n                </div>\r\n                <Link href=\"/profile\">\r\n                    <div className=\"relative h-10 w-10 rounded-full bg-[#D93F21]/10 flex items-center justify-center border border-[#D93F21]/20 shadow-sm overflow-hidden hover:ring-2 hover:ring-[#D93F21]/50 transition-all\">\r\n                        \r\n                        {user?.foto_url && !imageError ? (\r\n                            <Image \r\n                                src={user.foto_url} \r\n                                alt={user.name || 'Profile'} \r\n                                fill \r\n                                className=\"object-cover\"\r\n                                unoptimized \r\n                                onError={() => setImageError(true)} \r\n                            />\r\n                        ) : (\r\n                            <span className=\"text-lg font-bold text-[#D93F21]\">\r\n                                {user?.name ? user.name.charAt(0).toUpperCase() : 'A'}\r\n                            </span>\r\n                        )}\r\n\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </header>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAQA,SAAS;;IACL,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,IAAA,8IAAgB;IAC/C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,SAAS,MAAM,MAAM,CAAC,CAAA,IAAK,CAAC,EAAE,IAAI,EAAE,MAAM;IAEhD,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBACG,MAAK;gBACL,SAAS;oBACL,QAAQ,CAAC;oBACT,IAAI,CAAC,MAAM;gBACf;gBACA,WAAU;gBACV,cAAW;;kCAEX,6LAAC;wBAAI,OAAM;wBAA6B,WAAU;wBAAwB,MAAK;wBAAO,SAAQ;wBAAY,QAAO;kCAC7G,cAAA,6LAAC;4BAAK,eAAc;4BAAQ,gBAAe;4BAAQ,aAAa;4BAAG,GAAE;;;;;;;;;;;oBAExE,SAAS,mBACN,6LAAC;wBAAK,WAAU;kCAAgH;;;;;;;;;;;;YAIvI,sBACG,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCAA0B;;;;;;kCACzC,6LAAC;wBAAI,WAAU;kCACV,MAAM,MAAM,KAAK,kBACd,6LAAC;4BAAI,WAAU;sCAA4B;;;;;mCAE3C,MAAM,GAAG,CAAC,CAAA,mBACN,6LAAC;gCAAgB,WAAU;;kDACvB,6LAAC;wCAAI,WAAU;kDAAuB,GAAG,IAAI,KAAK,oBAAoB,CAAC,SAAS,EAAE,GAAG,IAAI,EAAE,gBAAgB,OAAO,GAAG,GAAG,IAAI;;;;;;kDAC5H,6LAAC;wCAAI,WAAU;kDAAyB,GAAG,IAAI,EAAE,MAAM,QAAQ;;;;;;;+BAFzD,GAAG,EAAE;;;;;;;;;;;;;;;;;;;;;;AAW/C;GA3CS;;QAC0B,8IAAgB;;;KAD1C;AA6CM,SAAS;;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,qIAAO,EAAC;QAAE,YAAY;IAAO;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,IAAA,0KAAS;4BAAC;YACN,cAAc;QAClB;2BAAG;QAAC,MAAM;KAAS;IACnB,qBACI,6LAAC;QAAO,WAAU;;0BAEd,6LAAC;gBAAI,WAAU;0BACX,cAAA,6LAAC;oBAAG,WAAU;8BAAsC;;;;;;;;;;;0BAGxD,6LAAC;gBAAI,WAAU;;kCAEX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC;;;;;;;;;;kCAGL,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAE,WAAU;0CACR,MAAM,QAAQ;;;;;;0CAEnB,6LAAC;gCAAE,WAAU;0CACR,MAAM,MAAM,aAAa;;;;;;;;;;;;kCAGlC,6LAAC,0KAAI;wBAAC,MAAK;kCACP,cAAA,6LAAC;4BAAI,WAAU;sCAEV,MAAM,YAAY,CAAC,2BAChB,6LAAC,2IAAK;gCACF,KAAK,KAAK,QAAQ;gCAClB,KAAK,KAAK,IAAI,IAAI;gCAClB,IAAI;gCACJ,WAAU;gCACV,WAAW;gCACX,SAAS,IAAM,cAAc;;;;;qDAGjC,6LAAC;gCAAK,WAAU;0CACX,MAAM,OAAO,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlF;IAlDwB;;QACH,qIAAO;;;MADJ"}}]
}