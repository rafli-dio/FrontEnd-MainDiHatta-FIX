{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd-FIX/maindihatta-frontend/src/lib/axios.ts"],"sourcesContent":["import axios, { AxiosInstance } from 'axios';\r\n\r\nconst axiosInstance: AxiosInstance = axios.create({\r\n    baseURL: process.env.NEXT_PUBLIC_BACKEND_URL,\r\n    headers: {\r\n        'X-Requested-With': 'XMLHttpRequest',\r\n        'Accept': 'application/json',\r\n        // 'Content-Type': 'application/json',\r\n    },\r\n    withCredentials: true,\r\n});\r\n\r\nexport default axiosInstance;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,gBAA+B,gJAAK,CAAC,MAAM,CAAC;IAC9C,OAAO;IACP,SAAS;QACL,oBAAoB;QACpB,UAAU;IAEd;IACA,iBAAiB;AACrB;uCAEe"}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd-FIX/maindihatta-frontend/src/hooks/useAuth.ts"],"sourcesContent":["import useSWR from 'swr';\r\nimport axios from '@/lib/axios';\r\nimport { useEffect } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { User } from '@/types';\r\n\r\ninterface UseAuthProps {\r\n    middleware?: 'guest' | 'auth';\r\n    redirectIfAuthenticated?: string;\r\n}\r\n\r\ninterface AuthActions {\r\n    setErrors: (errors: any) => void;\r\n    setStatus?: (status: string | null) => void;\r\n    [key: string]: any;\r\n}\r\n\r\nexport const useAuth = ({ middleware, redirectIfAuthenticated }: UseAuthProps = {}) => {\r\n    const router = useRouter();\r\n    const params = useParams();\r\n\r\n    const { data: user, error, mutate } = useSWR<User>('/api/auth/user', () =>\r\n        axios\r\n            .get('/api/auth/user')\r\n            .then(res => res.data?.data || res.data)\r\n            .catch(error => {\r\n                if (error.response.status !== 409) throw error;\r\n                \r\n                router.push('/verify-email');\r\n            })\r\n    );\r\n\r\n    const csrf = () => axios.get('/sanctum/csrf-cookie');\r\n\r\n    // 3. LOGIN\r\n    const login = async ({ setErrors, setStatus, ...props }: AuthActions) => {\r\n        await csrf();\r\n        setErrors([]);\r\n        setStatus?.(null);\r\n\r\n        try {\r\n            await axios.post('api/login', props);\r\n            await mutate();\r\n        } catch (error: any) {\r\n            if (error.response?.status === 422) {\r\n                setErrors(error.response.data.errors);\r\n                throw error;\r\n            }\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    // 4. REGISTER\r\n    const register = async ({ setErrors, ...props }: AuthActions) => {\r\n        await csrf();\r\n        setErrors([]);\r\n\r\n        try {\r\n            await axios.post('api/register', props);\r\n            await mutate();\r\n        } catch (error: any) {\r\n            if (error.response?.status === 422) {\r\n                setErrors(error.response.data.errors);\r\n                throw error;\r\n            }\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const logout = async () => {\r\n        if (!error) {\r\n            await axios.post('api/auth/logout').then(() => mutate()); \r\n        }\r\n        window.location.pathname = '/login'; \r\n    };\r\n\r\n    useEffect(() => {\r\n        if (middleware === 'guest' && redirectIfAuthenticated && user) {\r\n            // Normalize redirect path to avoid accidental double slashes or protocol-relative URLs\r\n            try {\r\n                let dest = String(redirectIfAuthenticated);\r\n                // If an absolute URL with protocol, use it as-is\r\n                if (/^https?:\\/\\//i.test(dest)) {\r\n                    router.push(dest);\r\n                } else {\r\n                    // Remove extra leading slashes to prevent '//' paths\r\n                    dest = dest.replace(/^\\/+/, '/');\r\n                    router.push(dest);\r\n                }\r\n            } catch (e) {\r\n                router.push(redirectIfAuthenticated);\r\n            }\r\n        }\r\n        \r\n        if (middleware === 'auth' && error) {\r\n             logout();\r\n        }\r\n    }, [user, error, middleware, redirectIfAuthenticated, router]);\r\n\r\n    return {\r\n        user,\r\n        login,\r\n        register,\r\n        logout,\r\n        mutate, \r\n    };\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAcO,MAAM,UAAU,CAAC,EAAE,UAAU,EAAE,uBAAuB,EAAgB,GAAG,CAAC,CAAC;IAC9E,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,EAAE,MAAM,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,IAAA,yKAAM,EAAO,kBAAkB,IACjE,8HAAK,CACA,GAAG,CAAC,kBACJ,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI,EAAE,QAAQ,IAAI,IAAI,EACtC,KAAK,CAAC,CAAA;YACH,IAAI,MAAM,QAAQ,CAAC,MAAM,KAAK,KAAK,MAAM;YAEzC,OAAO,IAAI,CAAC;QAChB;IAGR,MAAM,OAAO,IAAM,8HAAK,CAAC,GAAG,CAAC;IAE7B,WAAW;IACX,MAAM,QAAQ,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoB;QAChE,MAAM;QACN,UAAU,EAAE;QACZ,YAAY;QAEZ,IAAI;YACA,MAAM,8HAAK,CAAC,IAAI,CAAC,aAAa;YAC9B,MAAM;QACV,EAAE,OAAO,OAAY;YACjB,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gBAChC,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,MAAM;gBACpC,MAAM;YACV;YACA,MAAM;QACV;IACJ;IAEA,cAAc;IACd,MAAM,WAAW,OAAO,EAAE,SAAS,EAAE,GAAG,OAAoB;QACxD,MAAM;QACN,UAAU,EAAE;QAEZ,IAAI;YACA,MAAM,8HAAK,CAAC,IAAI,CAAC,gBAAgB;YACjC,MAAM;QACV,EAAE,OAAO,OAAY;YACjB,IAAI,MAAM,QAAQ,EAAE,WAAW,KAAK;gBAChC,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,MAAM;gBACpC,MAAM;YACV;YACA,MAAM;QACV;IACJ;IAEA,MAAM,SAAS;QACX,IAAI,CAAC,OAAO;YACR,MAAM,8HAAK,CAAC,IAAI,CAAC,mBAAmB,IAAI,CAAC,IAAM;QACnD;QACA,OAAO,QAAQ,CAAC,QAAQ,GAAG;IAC/B;IAEA,IAAA,kNAAS,EAAC;QACN,IAAI,eAAe,WAAW,2BAA2B,MAAM;YAC3D,uFAAuF;YACvF,IAAI;gBACA,IAAI,OAAO,OAAO;gBAClB,iDAAiD;gBACjD,IAAI,gBAAgB,IAAI,CAAC,OAAO;oBAC5B,OAAO,IAAI,CAAC;gBAChB,OAAO;oBACH,qDAAqD;oBACrD,OAAO,KAAK,OAAO,CAAC,QAAQ;oBAC5B,OAAO,IAAI,CAAC;gBAChB;YACJ,EAAE,OAAO,GAAG;gBACR,OAAO,IAAI,CAAC;YAChB;QACJ;QAEA,IAAI,eAAe,UAAU,OAAO;YAC/B;QACL;IACJ,GAAG;QAAC;QAAM;QAAO;QAAY;QAAyB;KAAO;IAE7D,OAAO;QACH;QACA;QACA;QACA;QACA;IACJ;AACJ"}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///E:/03-NGODING/20-MainDiHatta.id/FrontEnd-FIX/maindihatta-frontend/src/components/admin/Header.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport Link from 'next/link';\r\nimport Image from 'next/image';\r\n\r\nexport default function Header() {\r\n    const { user } = useAuth({ middleware: 'auth' });\r\n    const [imageError, setImageError] = useState(false);\r\n    useEffect(() => {\r\n        setImageError(false);\r\n    }, [user?.foto_url]);\r\n    return (\r\n        <header className=\"h-16 bg-white border-b border-gray-200 flex items-center justify-between px-4 md:px-8 fixed top-0 right-0 left-0 md:left-64 z-10 transition-all\">\r\n            \r\n            <div className=\"flex items-center\">\r\n                <h2 className=\"text-lg font-semibold text-gray-800\">Admin Portal</h2>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-4\">\r\n                \r\n                <div className=\"text-right hidden sm:block\">\r\n                    <p className=\"text-sm font-medium text-gray-900\">\r\n                        {user?.name || 'Memuat...'}\r\n                    </p>\r\n                    <p className=\"text-xs text-gray-500\">\r\n                        {user?.role?.name_role || 'Administrator'}\r\n                    </p>\r\n                </div>\r\n                <Link href=\"/profile\">\r\n                    <div className=\"relative h-10 w-10 rounded-full bg-[#D93F21]/10 flex items-center justify-center border border-[#D93F21]/20 shadow-sm overflow-hidden hover:ring-2 hover:ring-[#D93F21]/50 transition-all\">\r\n                        \r\n                        {user?.foto_url && !imageError ? (\r\n                            <Image \r\n                                src={user.foto_url} \r\n                                alt={user.name || 'Profile'} \r\n                                fill \r\n                                className=\"object-cover\"\r\n                                unoptimized \r\n                                onError={() => setImageError(true)} \r\n                            />\r\n                        ) : (\r\n                            <span className=\"text-lg font-bold text-[#D93F21]\">\r\n                                {user?.name ? user.name.charAt(0).toUpperCase() : 'A'}\r\n                            </span>\r\n                        )}\r\n\r\n                    </div>\r\n                </Link>\r\n            </div>\r\n        </header>\r\n    );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAOe,SAAS;IACpB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,kIAAO,EAAC;QAAE,YAAY;IAAO;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,IAAA,kNAAS,EAAC;QACN,cAAc;IAClB,GAAG;QAAC,MAAM;KAAS;IACnB,qBACI,8OAAC;QAAO,WAAU;;0BAEd,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAG,WAAU;8BAAsC;;;;;;;;;;;0BAGxD,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAE,WAAU;0CACR,MAAM,QAAQ;;;;;;0CAEnB,8OAAC;gCAAE,WAAU;0CACR,MAAM,MAAM,aAAa;;;;;;;;;;;;kCAGlC,8OAAC,uKAAI;wBAAC,MAAK;kCACP,cAAA,8OAAC;4BAAI,WAAU;sCAEV,MAAM,YAAY,CAAC,2BAChB,8OAAC,wIAAK;gCACF,KAAK,KAAK,QAAQ;gCAClB,KAAK,KAAK,IAAI,IAAI;gCAClB,IAAI;gCACJ,WAAU;gCACV,WAAW;gCACX,SAAS,IAAM,cAAc;;;;;qDAGjC,8OAAC;gCAAK,WAAU;0CACX,MAAM,OAAO,KAAK,IAAI,CAAC,MAAM,CAAC,GAAG,WAAW,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASlF"}}]
}