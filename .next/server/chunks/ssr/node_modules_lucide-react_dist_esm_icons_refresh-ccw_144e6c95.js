module.exports=[28790,92052,25579,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);a.s(["RefreshCcw",()=>c],28790);var d=a.i(87924),e=a.i(77156),f=a.i(16201),g=a.i(92e3);let h=(0,b.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var i=a.i(41710);let j=(0,b.default)("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var k=a.i(99570),l=a.i(86304),m=a.i(6015);function n({bookings:a,onView:b,loading:c}){return(0,d.jsx)("div",{className:"rounded-md border bg-white shadow-sm overflow-hidden",children:(0,d.jsxs)(m.Table,{children:[(0,d.jsx)(m.TableHeader,{children:(0,d.jsxs)(m.TableRow,{className:"bg-gray-50",children:[(0,d.jsx)(m.TableHead,{className:"w-12 text-center py-3 px-4 text-xs text-gray-500 uppercase tracking-wide",children:"No"}),(0,d.jsx)(m.TableHead,{className:"font-mono py-3 px-4 text-xs text-gray-500",children:"Kode"}),(0,d.jsx)(m.TableHead,{className:"py-3 px-4 text-xs text-gray-500",children:"Tanggal"}),(0,d.jsx)(m.TableHead,{className:"text-xs py-3 px-4 text-gray-500",children:"Jam"}),(0,d.jsx)(m.TableHead,{className:"py-3 px-4 text-xs text-gray-500",children:"Pemesan"}),(0,d.jsx)(m.TableHead,{className:"py-3 px-4 text-xs text-gray-500",children:"Lapangan"}),(0,d.jsx)(m.TableHead,{className:"py-3 px-4 text-xs text-gray-500",children:"Status"}),(0,d.jsx)(m.TableHead,{className:"text-right py-3 px-4 text-xs text-gray-500",children:"Aksi"})]})}),(0,d.jsx)(m.TableBody,{children:c?(0,d.jsx)(m.TableRow,{children:(0,d.jsx)(m.TableCell,{colSpan:8,className:"h-24 text-center py-6",children:"Memuat..."})}):0===a.length?(0,d.jsx)(m.TableRow,{children:(0,d.jsx)(m.TableCell,{colSpan:8,className:"h-32 text-center text-gray-500 py-6",children:"Belum ada data booking."})}):a.map((a,c)=>(0,d.jsxs)(m.TableRow,{className:"hover:bg-gray-50 even:bg-gray-50 border-b",children:[(0,d.jsx)(m.TableCell,{className:"text-sm text-gray-600 font-medium text-center py-3 px-4",children:c+1}),(0,d.jsx)(m.TableCell,{className:"font-mono font-medium py-3 px-4 truncate max-w-[140px]",children:a.kode_booking}),(0,d.jsx)(m.TableCell,{className:"py-3 px-4",children:new Date(a.tanggal_booking).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})}),(0,d.jsxs)(m.TableCell,{className:"text-xs py-3 px-4",children:[a.jam_mulai," - ",a.jam_selesai]}),(0,d.jsxs)(m.TableCell,{className:"py-3 px-4 max-w-[220px]",children:[(0,d.jsx)("div",{className:"font-medium truncate",children:a.nama_pengirim||a.user?.name||"-"}),(0,d.jsx)("div",{className:"text-xs text-gray-500 truncate",children:a.acara||"-"})]}),(0,d.jsx)(m.TableCell,{className:"py-3 px-4 max-w-[140px] truncate",children:a.lapangan?.nama_lapangan}),(0,d.jsx)(m.TableCell,{className:"py-3 px-4 w-40",children:(a=>{switch(a){case 1:return(0,d.jsxs)(l.Badge,{variant:"outline",className:"text-yellow-700 border-yellow-200 bg-yellow-50",children:[(0,d.jsx)(g.AlertCircle,{className:"w-3 h-3 mr-1"})," Menunggu Pembayaran"]});case 2:return(0,d.jsxs)(l.Badge,{className:"bg-blue-500 hover:bg-blue-600 text-white",children:[(0,d.jsx)(i.Clock,{className:"w-3 h-3 mr-1"})," Menunggu Konfirmasi"]});case 3:return(0,d.jsxs)(l.Badge,{className:"bg-green-600 hover:bg-green-700 text-white",children:[(0,d.jsx)(f.CheckCircle,{className:"w-3 h-3 mr-1"})," Terkonfirmasi"]});case 4:return(0,d.jsxs)(l.Badge,{variant:"destructive",className:"bg-red-500 hover:bg-red-600 text-white",children:[(0,d.jsx)(h,{className:"w-3 h-3 mr-1"})," Dibatalkan"]});case 5:return(0,d.jsxs)(l.Badge,{variant:"outline",className:"bg-gray-100 text-gray-600 border-gray-300",children:[(0,d.jsx)(j,{className:"w-3 h-3 mr-1"})," Selesai"]});default:return(0,d.jsxs)(l.Badge,{variant:"secondary",children:["Status: ",a]})}})(a.status_booking_id)}),(0,d.jsx)(m.TableCell,{className:"text-right py-3 px-4",children:(0,d.jsxs)(k.Button,{variant:"ghost",size:"sm",onClick:()=>b(a),className:"text-blue-600 hover:bg-blue-50",children:[(0,d.jsx)(e.Eye,{className:"w-4 h-4 mr-1"})," Detail"]})})]},a.id))})]})})}a.s(["default",()=>n],92052);var o=a.i(71987),p=a.i(28337),q=a.i(23292),r=a.i(14574);let s=(0,b.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var t=a.i(41675),u=a.i(46842),v=a.i(11156),w=a.i(24987),x=a.i(97063),y=a.i(96221);let z=(0,b.default)("banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);var A=a.i(72131);function B({isOpen:a,onOpenChange:b,booking:c,onApprove:e,onReject:m,isProcessing:n,onRefresh:B}){let[C,D]=(0,A.useState)(!1);if(!c)return null;let E=a=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a),F=async(a,d)=>{D(!0);try{await p.default.patch(`/api/bookings/${c.id}/status`,{status_booking_id:a}),q.toast.success(d),b(!1),B&&B()}catch(a){q.toast.error(a.response?.data?.message||"Gagal update status.")}finally{D(!1)}},G=c.payment_method?.nama_metode.toLowerCase().includes("cash")||c.payment_method?.nama_metode.toLowerCase().includes("tunai");return(0,d.jsx)(r.Dialog,{open:a,onOpenChange:b,children:(0,d.jsxs)(r.DialogContent,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[(0,d.jsx)(r.DialogHeader,{children:(0,d.jsxs)(r.DialogTitle,{className:"flex items-center gap-3",children:[(0,d.jsxs)("span",{children:["Booking ",(0,d.jsxs)("span",{className:"font-mono text-gray-500",children:["#",c.kode_booking]})]}),1===c.status_booking_id&&(0,d.jsxs)(l.Badge,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[(0,d.jsx)(g.AlertCircle,{className:"w-3 h-3 mr-1"})," Menunggu Pembayaran"]}),2===c.status_booking_id&&(0,d.jsxs)(l.Badge,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[(0,d.jsx)(i.Clock,{className:"w-3 h-3 mr-1"})," Menunggu Konfirmasi"]}),3===c.status_booking_id&&(0,d.jsxs)(l.Badge,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[(0,d.jsx)(f.CheckCircle,{className:"w-3 h-3 mr-1"})," Terkonfirmasi"]}),4===c.status_booking_id&&(0,d.jsxs)(l.Badge,{variant:"destructive",className:"bg-red-50 text-red-700 border-red-200 hover:bg-red-100",children:[(0,d.jsx)(h,{className:"w-3 h-3 mr-1"})," Dibatalkan"]}),5===c.status_booking_id&&(0,d.jsxs)(l.Badge,{variant:"secondary",className:"bg-gray-100 text-gray-600 border-gray-200",children:[(0,d.jsx)(j,{className:"w-3 h-3 mr-1"})," Selesai"]})]})}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 py-4",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100 space-y-2",children:[(0,d.jsxs)("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(w.MapPin,{className:"w-4 h-4"})," ",c.lapangan?.nama_lapangan]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 space-y-1 ml-6",children:[(0,d.jsxs)("p",{className:"flex items-center gap-2",children:[(0,d.jsx)(t.Calendar,{className:"w-3.5 h-3.5"})," ",new Date(c.tanggal_booking).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),(0,d.jsxs)("p",{className:"flex items-center gap-2",children:[(0,d.jsx)(i.Clock,{className:"w-3.5 h-3.5"})," ",c.jam_mulai," - ",c.jam_selesai," (",c.durasi_jam," Jam)"]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100 space-y-2",children:[(0,d.jsxs)("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(u.User,{className:"w-4 h-4"})," Data Pemesan"]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 ml-6 space-y-1",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Nama Akun:"})," ",c.user?.name]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Telp:"})," ",c.user?.nomor_telepon||"-"]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Nama Club:"})," ",c.acara||"-"]})]})]}),(0,d.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-100 space-y-2",children:[(0,d.jsxs)("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[(0,d.jsx)(v.CreditCard,{className:"w-4 h-4"})," Pembayaran"]}),(0,d.jsxs)("div",{className:"text-sm text-gray-600 ml-6 space-y-1",children:[(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Metode:"})," ",c.payment_method?.nama_metode]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-medium",children:"Total Tagihan:"})," ",E(Number(c.total_harga))]}),(0,d.jsxs)("p",{children:[(0,d.jsx)("span",{className:"font-medium text-blue-600",children:"DP Masuk:"})," ",E(Number(c.jumlah_dp))]}),!G&&(c.asal_bank||c.nama_pengirim)&&(0,d.jsxs)("div",{className:"mt-3 pt-2 border-t border-gray-200",children:[(0,d.jsx)("p",{className:"text-xs text-gray-500 uppercase font-bold mb-1",children:"Info Transfer"}),(0,d.jsxs)("p",{className:"text-xs",children:["Bank Asal: ",(0,d.jsx)("span",{className:"font-medium text-gray-900",children:c.asal_bank||"-"})]}),(0,d.jsxs)("p",{className:"text-xs",children:["Pengirim: ",(0,d.jsx)("span",{className:"font-medium text-gray-900",children:c.nama_pengirim||"-"})]})]})]})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)("h4",{className:"font-bold text-gray-900 text-sm",children:G?"Informasi Penerimaan":"Bukti Pembayaran"}),(0,d.jsx)("div",{className:`border-2 border-dashed border-gray-300 rounded-lg p-4 flex flex-col items-center justify-center min-h-[300px] h-full ${G?"bg-green-50/50 border-green-200":"bg-gray-50"}`,children:G?(0,d.jsxs)("div",{className:"text-center space-y-4",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-2",children:(0,d.jsx)(z,{className:"w-8 h-8"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h5",{className:"font-bold text-gray-900 text-lg",children:"Pembayaran Tunai"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 max-w-[200px] mx-auto mt-1",children:"Booking ini dibayar secara langsung di lokasi (Walk-in/Offline)."})]}),(0,d.jsxs)("div",{className:"bg-white p-3 rounded-lg border border-green-100 shadow-sm inline-block",children:[(0,d.jsx)("p",{className:"text-xs text-gray-400 font-medium uppercase mb-1",children:"Diterima Oleh Admin"}),(0,d.jsx)("p",{className:"text-sm font-bold text-gray-800",children:c.user?.name||"Admin"})]})]}):c.bukti_pembayaran_url?(0,d.jsxs)("div",{className:"relative w-full h-full min-h-[300px]",children:[(0,d.jsx)(o.default,{src:c.bukti_pembayaran_url,alt:"Bukti Bayar",fill:!0,className:"object-contain",unoptimized:!0}),(0,d.jsx)("a",{href:c.bukti_pembayaran_url,target:"_blank",className:"absolute bottom-2 right-2 bg-black/50 text-white text-xs px-2 py-1 rounded hover:bg-black/70",children:"Lihat Full"})]}):(0,d.jsxs)("div",{className:"text-gray-400 text-sm text-center flex flex-col items-center",children:[(0,d.jsx)(x.Info,{className:"w-8 h-8 mb-2 opacity-20"}),(0,d.jsx)("p",{children:"Belum ada bukti pembayaran yang diupload."})]})})]})]}),(0,d.jsxs)(r.DialogFooter,{className:"gap-2 sm:gap-0 flex-wrap sm:flex-nowrap",children:[(0,d.jsx)(k.Button,{variant:"secondary",onClick:()=>b(!1),children:"Tutup"}),1===c.status_booking_id&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(k.Button,{variant:"destructive",onClick:()=>m(c.id),disabled:n,children:[n?(0,d.jsx)(y.Loader2,{className:"w-4 h-4 animate-spin"}):(0,d.jsx)(s,{className:"w-4 h-4 mr-2"}),"Batalkan Booking"]}),(0,d.jsxs)(k.Button,{className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>F(3,"Pembayaran dikonfirmasi manual."),disabled:C,children:[C?(0,d.jsx)(y.Loader2,{className:"w-4 h-4 animate-spin"}):(0,d.jsx)(f.CheckCircle,{className:"w-4 h-4 mr-2"}),"Konfirmasi Pembayaran"]})]}),2===c.status_booking_id&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(k.Button,{variant:"destructive",onClick:()=>m(c.id),disabled:n,children:[n?(0,d.jsx)(y.Loader2,{className:"w-4 h-4 animate-spin"}):(0,d.jsx)(s,{className:"w-4 h-4 mr-2"}),"Tolak"]}),(0,d.jsxs)(k.Button,{className:"bg-green-600 hover:bg-green-700",onClick:()=>e(c.id),disabled:n,children:[n?(0,d.jsx)(y.Loader2,{className:"w-4 h-4 animate-spin"}):(0,d.jsx)(f.CheckCircle,{className:"w-4 h-4 mr-2"}),"Konfirmasi"]})]}),3===c.status_booking_id&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(k.Button,{variant:"destructive",onClick:()=>m(c.id),disabled:n,children:[n?(0,d.jsx)(y.Loader2,{className:"w-4 h-4 animate-spin"}):(0,d.jsx)(s,{className:"w-4 h-4 mr-2"}),"Batalkan"]}),(0,d.jsxs)(k.Button,{className:"bg-gray-800 hover:bg-gray-900 text-white",onClick:()=>F(5,"Booking ditandai selesai."),disabled:C,children:[C?(0,d.jsx)(y.Loader2,{className:"w-4 h-4 animate-spin"}):(0,d.jsx)(j,{className:"w-4 h-4 mr-2"}),"Tandai Selesai"]})]})]})]})})}a.s(["default",()=>B],25579)}];

//# sourceMappingURL=node_modules_lucide-react_dist_esm_icons_refresh-ccw_144e6c95.js.map