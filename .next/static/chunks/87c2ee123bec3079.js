(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,55436,a=>{"use strict";let e=(0,a.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>e],55436)},86536,a=>{"use strict";let e=(0,a.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>e],86536)},77705,a=>{"use strict";let e=(0,a.i(75254).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>e],77705)},10932,a=>{"use strict";var e=a.i(43476),t=a.i(71645),s=a.i(63816),r=a.i(46696),l=a.i(19455),i=a.i(55764),n=a.i(7233),c=a.i(55436),d=a.i(76639),o=a.i(10204),u=a.i(24687),h=a.i(99375),m=a.i(31278);function x({open:a,onOpenChange:s,faq:r,onSubmit:n,isLoading:c=!1}){let[x,p]=(0,t.useState)(r?.pertanyaan||""),[y,f]=(0,t.useState)(r?.jawaban||""),[g,j]=(0,t.useState)(r?.is_aktif??!0),b=!!r,k=x.trim()&&y.trim(),N=async()=>{if(k)try{await n({pertanyaan:x.trim(),jawaban:y.trim(),is_aktif:g}),w()}catch(a){}},w=()=>{p(""),f(""),j(!0),s(!1)};return(0,e.jsx)(d.Dialog,{open:a,onOpenChange:s,children:(0,e.jsxs)(d.DialogContent,{className:"max-w-lg",children:[(0,e.jsx)(d.DialogHeader,{children:(0,e.jsx)(d.DialogTitle,{children:b?"Edit FAQ":"Tambah FAQ Baru"})}),(0,e.jsxs)("div",{className:"space-y-4 py-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)(o.Label,{htmlFor:"pertanyaan",className:"text-sm font-medium",children:["Pertanyaan ",(0,e.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,e.jsx)(i.Input,{id:"pertanyaan",placeholder:"Masukkan pertanyaan...",value:x,onChange:a=>p(a.target.value),disabled:c,className:"focus:ring-blue-500"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)(o.Label,{htmlFor:"jawaban",className:"text-sm font-medium",children:["Jawaban ",(0,e.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,e.jsx)(u.Textarea,{id:"jawaban",placeholder:"Masukkan jawaban...",value:y,onChange:a=>f(a.target.value),disabled:c,rows:5,className:"focus:ring-blue-500 resize-none"})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3 bg-gray-50",children:[(0,e.jsx)(o.Label,{className:"text-sm font-medium cursor-pointer",children:"Aktif"}),(0,e.jsx)(h.Switch,{checked:g,onCheckedChange:j,disabled:c})]})]}),(0,e.jsxs)(d.DialogFooter,{className:"gap-2",children:[(0,e.jsx)(l.Button,{variant:"outline",onClick:w,disabled:c,children:"Batal"}),(0,e.jsx)(l.Button,{onClick:N,disabled:!k||c,className:"bg-blue-600 hover:bg-blue-700",children:c?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(m.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Menyimpan..."]}):b?"Perbarui":"Tambah"})]})]})})}var p=a.i(15288),y=a.i(87486);let f=(0,a.i(75254).default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var g=a.i(27612),j=a.i(86536),b=a.i(77705);function k({faqs:a,loading:t,onEdit:s,onDelete:r,onToggleStatus:i,togglingId:n}){return(0,e.jsxs)(p.Card,{children:[(0,e.jsx)(p.CardHeader,{children:(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)(p.CardTitle,{children:"Daftar FAQ"}),(0,e.jsxs)("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:["Total: ",a.length]})]})}),(0,e.jsx)(p.CardContent,{children:(0,e.jsx)("div",{className:"overflow-x-auto",children:(0,e.jsxs)("table",{className:"w-full text-sm",children:[(0,e.jsx)("thead",{children:(0,e.jsxs)("tr",{className:"border-b bg-gray-50",children:[(0,e.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"No"}),(0,e.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Pertanyaan"}),(0,e.jsx)("th",{className:"px-4 py-3 text-left font-medium text-gray-700",children:"Status"}),(0,e.jsx)("th",{className:"px-4 py-3 text-center font-medium text-gray-700",children:"Aksi"})]})}),(0,e.jsx)("tbody",{children:t?(0,e.jsx)("tr",{children:(0,e.jsxs)("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:[(0,e.jsx)(m.Loader2,{className:"h-6 w-6 animate-spin inline mr-2"}),"Memuat FAQ..."]})}):0===a.length?(0,e.jsx)("tr",{children:(0,e.jsx)("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-500",children:"Tidak ada FAQ"})}):a.map((a,t)=>(0,e.jsxs)("tr",{className:"border-b hover:bg-gray-50 transition",children:[(0,e.jsx)("td",{className:"px-4 py-3 text-gray-700 font-medium",children:t+1}),(0,e.jsx)("td",{className:"px-4 py-3",children:(0,e.jsxs)("div",{className:"max-w-md",children:[(0,e.jsx)("p",{className:"font-medium text-gray-900 line-clamp-2",children:a.pertanyaan}),(0,e.jsx)("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:a.jawaban})]})}),(0,e.jsx)("td",{className:"px-4 py-3",children:(0,e.jsx)(y.Badge,{variant:a.is_aktif?"default":"secondary",className:a.is_aktif?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:a.is_aktif?"Aktif":"Nonaktif"})}),(0,e.jsx)("td",{className:"px-4 py-3",children:(0,e.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,e.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>i(a),disabled:n===a.id,title:a.is_aktif?"Nonaktifkan":"Aktifkan",children:n===a.id?(0,e.jsx)(m.Loader2,{className:"w-4 h-4 animate-spin"}):a.is_aktif?(0,e.jsx)(j.Eye,{className:"w-4 h-4"}):(0,e.jsx)(b.EyeOff,{className:"w-4 h-4"})}),(0,e.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>s(a),className:"text-blue-600 hover:text-blue-700",children:(0,e.jsx)(f,{className:"w-4 h-4"})}),(0,e.jsx)(l.Button,{size:"sm",variant:"outline",onClick:()=>r(a),className:"text-red-600 hover:text-red-700",children:(0,e.jsx)(g.Trash2,{className:"w-4 h-4"})})]})})]},a.id))})]})})})]})}var N=a.i(35975);function w(){let{faqs:a,loading:d,fetchFAQs:o,createFAQ:u,updateFAQ:h,deleteFAQ:m,toggleFAQStatus:p}=function(){let[a,e]=(0,t.useState)([]),[l,i]=(0,t.useState)(!1),[n,c]=(0,t.useState)(null),d=(0,t.useCallback)(async()=>{i(!0),c(null);try{let a=(await s.default.get("/api/faq")).data,t=[];Array.isArray(a)?t=a:a?.data&&Array.isArray(a.data)?t=a.data:(console.warn("Format data FAQ tidak valid (Bukan Array):",a),t=[]),e(t)}catch(t){let a=t.response?.data?.message||"Gagal memuat FAQ";c(a),r.toast.error(a),e([])}finally{i(!1)}},[]),o=(0,t.useCallback)(async a=>{try{let t=await s.default.post("/api/faq",a),l=t.data?.data||t.data;return e(a=>[...a||[],l]),r.toast.success("FAQ berhasil ditambahkan"),l}catch(e){let a=e.response?.data?.message||"Gagal menambahkan FAQ";throw r.toast.error(a),e}},[]),u=(0,t.useCallback)(async(a,t)=>{try{let l=await s.default.put(`/api/faq/${a}`,t),i=l.data?.data||l.data;return e(e=>(e||[]).map(e=>e.id===a?i:e)),r.toast.success("FAQ berhasil diperbarui"),i}catch(e){let a=e.response?.data?.message||"Gagal memperbarui FAQ";throw r.toast.error(a),e}},[]),h=(0,t.useCallback)(async a=>{try{await s.default.delete(`/api/faq/${a}`),e(e=>(e||[]).filter(e=>e.id!==a)),r.toast.success("FAQ berhasil dihapus")}catch(e){let a=e.response?.data?.message||"Gagal menghapus FAQ";throw r.toast.error(a),e}},[]);return{faqs:a,loading:l,error:n,fetchFAQs:d,createFAQ:o,updateFAQ:u,deleteFAQ:h,reorderFAQs:(0,t.useCallback)(async a=>{try{await s.default.post("/api/faq/reorder",{faqs:a}),e(e=>(e||[]).map(e=>{let t=a.find(a=>a.id===e.id);return t?{...e,urutan:t.urutan}:e}).sort((a,e)=>(a.urutan||0)-(e.urutan||0))),r.toast.success("Urutan FAQ berhasil diperbarui")}catch(e){let a=e.response?.data?.message||"Gagal mengubah urutan FAQ";throw r.toast.error(a),e}},[]),toggleFAQStatus:(0,t.useCallback)(async(a,t)=>{try{let l=await s.default.patch(`/api/faq/${a}/toggle`,{is_aktif:!t}),i=l.data?.data||l.data;return e(e=>(e||[]).map(e=>e.id===a?i:e)),r.toast.success(`FAQ ${!t?"diaktifkan":"dinonaktifkan"}`),i}catch(e){let a=e.response?.data?.message||"Gagal mengubah status FAQ";throw r.toast.error(a),e}},[])}}(),[y,f]=(0,t.useState)(!1),[g,j]=(0,t.useState)(null),[b,w]=(0,t.useState)(""),[A,v]=(0,t.useState)(!1),[C,F]=(0,t.useState)(null);(0,t.useEffect)(()=>{o()},[]);let Q=(a||[]).filter(a=>a?.pertanyaan?.toLowerCase().includes(b.toLowerCase())),S=async a=>{if((await N.sweetAlert.confirmDelete("Hapus FAQ?",`Apakah Anda yakin ingin menghapus FAQ:
"${a.pertanyaan}"?`)).isConfirmed)try{await m(a.id)}catch(a){}},T=async a=>{v(!0);try{g?.id?await h(g.id,a):await u(a),f(!1),j(null)}catch(a){}finally{v(!1)}},B=async a=>{F(a.id);try{await p(a.id,a.is_aktif)}finally{F(null)}};return(0,e.jsxs)("div",{className:"space-y-6 pb-20",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Manajemen FAQ"}),(0,e.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Kelola pertanyaan yang sering diajukan pelanggan"})]}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,e.jsxs)("div",{className:"flex-1 relative",children:[(0,e.jsx)(c.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,e.jsx)(i.Input,{placeholder:"Cari FAQ...",value:b,onChange:a=>w(a.target.value),className:"pl-10"})]}),(0,e.jsxs)(l.Button,{onClick:()=>{j(null),f(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white whitespace-nowrap",children:[(0,e.jsx)(n.Plus,{className:"w-4 h-4 mr-2"}),"Tambah FAQ"]})]}),(0,e.jsx)(k,{faqs:Q,loading:d,onEdit:a=>{j(a),f(!0)},onDelete:S,onToggleStatus:B,togglingId:C}),(0,e.jsx)(x,{open:y,onOpenChange:f,faq:g,onSubmit:T,isLoading:A})]})}a.s(["default",()=>w],10932)}]);